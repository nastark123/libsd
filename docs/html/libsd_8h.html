<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.14.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>libsd: libsd.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">libsd
   </div>
  </td>
    <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <span id="MSearchSelect" class="search-icon" onmouseover="return searchBox.OnSearchSelectShow()" onmouseout="return searchBox.OnSearchSelectHide()"><span class="search-icon-dropdown"></span></span>
          <input type="text" id="MSearchField" value="" placeholder="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><div id="MSearchCloseImg" class="close-icon"></div></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.14.0 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search/",'.html');
</script>
<script type="text/javascript">
$(function() { codefold.init(); });
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(function(){initNavTree('libsd_8h.html','',''); });
</script>
<div id="container">
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="headertitle"><div class="title">libsd.h File Reference</div></div>
</div><!--header-->
<div class="contents">

<p><a href="libsd_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 id="header-nested-classes" class="groupheader"><a id="nested-classes" name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:LibsdCard" id="r_LibsdCard"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_libsd_card.html">LibsdCard</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Struct with information for SD card.  <a href="struct_libsd_card.html#details">More...</a><br /></td></tr>
<tr class="memitem:LibsdSpiDefinedCommand" id="r_LibsdSpiDefinedCommand"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_libsd_spi_defined_command.html">LibsdSpiDefinedCommand</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Struct for a predefined SPI command.  <a href="struct_libsd_spi_defined_command.html#details">More...</a><br /></td></tr>
<tr class="memitem:LibsdSpiApplicationCommand" id="r_LibsdSpiApplicationCommand"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_libsd_spi_application_command.html">LibsdSpiApplicationCommand</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Struct for an application specific SPI command.  <a href="struct_libsd_spi_application_command.html#details">More...</a><br /></td></tr>
<tr class="memitem:LibsdSpiCommandResponseR1" id="r_LibsdSpiCommandResponseR1"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_libsd_spi_command_response_r1.html">LibsdSpiCommandResponseR1</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Struct for R1 type response.  <a href="struct_libsd_spi_command_response_r1.html#details">More...</a><br /></td></tr>
<tr class="memitem:LibsdSpiCommandResponseR2" id="r_LibsdSpiCommandResponseR2"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_libsd_spi_command_response_r2.html">LibsdSpiCommandResponseR2</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Struct for R2 type response.  <a href="struct_libsd_spi_command_response_r2.html#details">More...</a><br /></td></tr>
<tr class="memitem:LibsdSpiCommandResponseR3" id="r_LibsdSpiCommandResponseR3"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_libsd_spi_command_response_r3.html">LibsdSpiCommandResponseR3</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Struct for R3 type response.  <a href="struct_libsd_spi_command_response_r3.html#details">More...</a><br /></td></tr>
<tr class="memitem:LibsdSpiCommandResponseR7" id="r_LibsdSpiCommandResponseR7"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_libsd_spi_command_response_r7.html">LibsdSpiCommandResponseR7</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Struct for R7 type response.  <a href="struct_libsd_spi_command_response_r7.html#details">More...</a><br /></td></tr>
<tr class="memitem:LibsdSpiCommandResponse" id="r_LibsdSpiCommandResponse"><td class="memItemLeft" align="right" valign="top">union &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="union_libsd_spi_command_response.html">LibsdSpiCommandResponse</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Union for all response types.  <a href="union_libsd_spi_command_response.html#details">More...</a><br /></td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 id="header-enum-members" class="groupheader"><a id="enum-members" name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:a35e9ef4fba3790348b74b5f1bb30e295" id="r_a35e9ef4fba3790348b74b5f1bb30e295"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a35e9ef4fba3790348b74b5f1bb30e295">LibsdReturnStatus</a> { <br />
&#160;&#160;<a class="el" href="#a35e9ef4fba3790348b74b5f1bb30e295aa290c988d692cfa633e720113b73990f">LIBSD_OK</a> = 0
, <a class="el" href="#a35e9ef4fba3790348b74b5f1bb30e295a501fd744f95cf0d30eb43f09e4ab5fd6">LIBSD_TIMEOUT</a> = 1
, <a class="el" href="#a35e9ef4fba3790348b74b5f1bb30e295a985ce5a0dd999b7ba42c3739706ce911">LIBSD_INIT_FAILED</a> = 2
, <a class="el" href="#a35e9ef4fba3790348b74b5f1bb30e295a0912ae679e57403dfc8b7b25d9af2aef">LIBSD_WRITE_FAILED</a> = 3
, <br />
&#160;&#160;<a class="el" href="#a35e9ef4fba3790348b74b5f1bb30e295a7481ed2743af076052eea8bd1507bdb5">LIBSD_READ_FAILED</a> = 4
, <a class="el" href="#a35e9ef4fba3790348b74b5f1bb30e295a0aadb7478c96bd88f0587cf94f96ede8">LIBSD_BUF_TOO_SMALL</a> = 5
, <a class="el" href="#a35e9ef4fba3790348b74b5f1bb30e295a0f82db21f4263d8d617d0f0fc3ea9bd0">LIBSD_BUF_TOO_LARGE</a> = 6
, <a class="el" href="#a35e9ef4fba3790348b74b5f1bb30e295afd4e1e73c876c7288df868906b8a0877">LIBSD_CRC_ERROR</a> = 7
<br />
 }</td></tr>
<tr class="memdesc:a35e9ef4fba3790348b74b5f1bb30e295"><td class="mdescLeft">&#160;</td><td class="mdescRight">Enumeration of return values from functions in libsd.  <a href="#a35e9ef4fba3790348b74b5f1bb30e295">More...</a><br /></td></tr>
<tr class="memitem:af93c4737aafa5967c62525b2db861bd5" id="r_af93c4737aafa5967c62525b2db861bd5"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#af93c4737aafa5967c62525b2db861bd5">LibsdSpiDefinedCommandId</a> { <br />
&#160;&#160;<a class="el" href="#af93c4737aafa5967c62525b2db861bd5a36541b415ae5967751b3c72878f80aa8">CMD0</a> = 0
, <a class="el" href="#af93c4737aafa5967c62525b2db861bd5a47ee3e681c20ff5c495493e77ca34368">CMD1</a> = 1
, <a class="el" href="#af93c4737aafa5967c62525b2db861bd5a108117a364ab0acbb9f98c884a83d4de">CMD6</a> = 6
, <a class="el" href="#af93c4737aafa5967c62525b2db861bd5a651ee13eedad94e8b3e08c5a666fb820">CMD8</a> = 8
, <br />
&#160;&#160;<a class="el" href="#af93c4737aafa5967c62525b2db861bd5a4104f864a4e56683eecd7e14baead027">CMD9</a> = 9
, <a class="el" href="#af93c4737aafa5967c62525b2db861bd5a18484c198b2d973707932d615e2e7362">CMD10</a> = 10
, <a class="el" href="#af93c4737aafa5967c62525b2db861bd5ab3eb4943342fc8d4760b87ae97f8d259">CMD12</a> = 12
, <a class="el" href="#af93c4737aafa5967c62525b2db861bd5adb3d8777afe922d38ef02e8dcfeb8420">CMD13</a> = 13
, <br />
&#160;&#160;<a class="el" href="#af93c4737aafa5967c62525b2db861bd5aac87bb1842300e8cfb83fda7c72abcde">CMD16</a> = 16
, <a class="el" href="#af93c4737aafa5967c62525b2db861bd5a95702a46b620fa7fd0c3a9393e81dae2">CMD17</a> = 17
, <a class="el" href="#af93c4737aafa5967c62525b2db861bd5a6208383a5bd0425b4b2095449bb22196">CMD18</a> = 18
, <a class="el" href="#af93c4737aafa5967c62525b2db861bd5a942069fd9af24fe9f27ac88c02bd4dc0">CMD24</a> = 24
, <br />
&#160;&#160;<a class="el" href="#af93c4737aafa5967c62525b2db861bd5a102d8de2cd23f65f8be2c992fd3bfc29">CMD25</a> = 25
, <a class="el" href="#af93c4737aafa5967c62525b2db861bd5a92b4e0176704b4f8f8936fc9b0c6ad63">CMD27</a> = 27
, <a class="el" href="#af93c4737aafa5967c62525b2db861bd5a0b50c274986c491d4dbc30c7a3da1966">CMD28</a> = 28
, <a class="el" href="#af93c4737aafa5967c62525b2db861bd5abba191301ca9cded3815c3b7f3d69371">CMD29</a> = 29
, <br />
&#160;&#160;<a class="el" href="#af93c4737aafa5967c62525b2db861bd5a63cf7dbbdc07b9798eda00909eae58a9">CMD30</a> = 30
, <a class="el" href="#af93c4737aafa5967c62525b2db861bd5af3c4af53adc6cf1f814a936fe515334e">CMD32</a> = 32
, <a class="el" href="#af93c4737aafa5967c62525b2db861bd5a61970fcf2b514e2a3087f397536e81b5">CMD33</a> = 33
, <a class="el" href="#af93c4737aafa5967c62525b2db861bd5a8295cc520ba543348e74d9cec38438d4">CMD38</a> = 38
, <br />
&#160;&#160;<a class="el" href="#af93c4737aafa5967c62525b2db861bd5a07e56339baf8c13d18d81f5859a31baa">CMD42</a> = 42
, <a class="el" href="#af93c4737aafa5967c62525b2db861bd5a36edfb2a83221c8c3a3ad0d84072200d">CMD55</a> = 55
, <a class="el" href="#af93c4737aafa5967c62525b2db861bd5a8aa988b277f52c09fbaf39740f33867d">CMD56</a> = 56
, <a class="el" href="#af93c4737aafa5967c62525b2db861bd5acb344739b2733fe7ef0c8f28a92896d1">CMD58</a> = 58
, <br />
&#160;&#160;<a class="el" href="#af93c4737aafa5967c62525b2db861bd5a7aeecfde4608a4ae1b7afcb3d37349d8">CMD59</a> = 59
, <a class="el" href="#af93c4737aafa5967c62525b2db861bd5a6f824aa2a760266a6bb66287abfaf2df">GO_IDLE_STATE</a> = CMD0
, <a class="el" href="#af93c4737aafa5967c62525b2db861bd5a07d91a17024637fc003cce13a0e58849">SEND_OP_COND</a> = CMD1
, <a class="el" href="#af93c4737aafa5967c62525b2db861bd5a5862474e029edce6895fd17571933822">SWITCH_FUNC</a> = CMD6
, <br />
&#160;&#160;<a class="el" href="#af93c4737aafa5967c62525b2db861bd5a54ea42ae5cc87fc72f0941e48828d34d">SEND_IF_COND</a> = CMD8
, <a class="el" href="#af93c4737aafa5967c62525b2db861bd5a32550ff14785bd6e01de42951021c8ff">SEND_CSD</a> = CMD9
, <a class="el" href="#af93c4737aafa5967c62525b2db861bd5a1d6820714043c4791409620c718a74fb">SEND_CID</a> = CMD10
, <a class="el" href="#af93c4737aafa5967c62525b2db861bd5a7d043a4f7c42bd6aeb8dfc7574127565">STOP_TRANSMISSION</a> = CMD12
, <br />
&#160;&#160;<a class="el" href="#af93c4737aafa5967c62525b2db861bd5ae88af817feffec91cec7143bd5a4cad5">SEND_STATUS</a> = CMD13
, <a class="el" href="#af93c4737aafa5967c62525b2db861bd5a3f01cc7b4d0989ccec9edeeb264513d8">SET_BLOCKLEN</a> = CMD16
, <a class="el" href="#af93c4737aafa5967c62525b2db861bd5a981471a896d209c94bcb967e9eda2538">READ_SINGLE_BLOCK</a> = CMD17
, <a class="el" href="#af93c4737aafa5967c62525b2db861bd5aad30368720ac8926900f9479948a7f48">READ_MULTIPLE_BLOCK</a> = CMD18
, <br />
&#160;&#160;<a class="el" href="#af93c4737aafa5967c62525b2db861bd5a577bfdd5ef3f3d9b50bdecbd7cf04b9e">WRITE_BLOCK</a> = CMD24
, <a class="el" href="#af93c4737aafa5967c62525b2db861bd5a28f9f0c4e8d6e0d25e4c48aab4fc7b8b">WRITE_MULTIPLE_BLOCK</a> = CMD25
, <a class="el" href="#af93c4737aafa5967c62525b2db861bd5ad08a859a9e416a9ad199e7a5ab5b9563">PROGRAM_CSD</a> = CMD27
, <a class="el" href="#af93c4737aafa5967c62525b2db861bd5a608c3c2839cdbfcb59a5471e5e738485">SET_WRITE_PROT</a> = CMD28
, <br />
&#160;&#160;<a class="el" href="#af93c4737aafa5967c62525b2db861bd5ab16bb2db0dfd470936d304fa936db333">CLR_WRITE_PROT</a> = CMD29
, <a class="el" href="#af93c4737aafa5967c62525b2db861bd5ad02b96ec3dceec611b68d602b190d29d">SEND_WRITE_PROT</a> = CMD30
, <a class="el" href="#af93c4737aafa5967c62525b2db861bd5acbcdcead4af7b991e8cc50d96da7627a">ERASE_WR_BLK_START_ADDR</a> = CMD32
, <a class="el" href="#af93c4737aafa5967c62525b2db861bd5a0074cb30d79c5c61da8e9a4cdbc74730">ERASE_WR_BLK_END_ADDR</a> = CMD33
, <br />
&#160;&#160;<a class="el" href="#af93c4737aafa5967c62525b2db861bd5a33da92285188399f32dced50082643a2">ERASE</a> = CMD38
, <a class="el" href="#af93c4737aafa5967c62525b2db861bd5a33a3402e588be6c7abed413c6cbc9605">LOCK_UNLOCK</a> = CMD42
, <a class="el" href="#af93c4737aafa5967c62525b2db861bd5ab1f86f7ebbfab11df1eb34efbaa06205">APP_CMD</a> = CMD55
, <a class="el" href="#af93c4737aafa5967c62525b2db861bd5ab5aabb906a4d06498b5a5903d84335cd">GEN_CMD</a> = CMD56
, <br />
&#160;&#160;<a class="el" href="#af93c4737aafa5967c62525b2db861bd5a4bc59666fe5dfd64bd4b1ef6f9fea31a">READ_OCR</a> = CMD58
, <a class="el" href="#af93c4737aafa5967c62525b2db861bd5a3b33578f9d7eec47f767284c51165ed2">CRC_ON_OFF</a> = CMD59
<br />
 }</td></tr>
<tr class="memdesc:af93c4737aafa5967c62525b2db861bd5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Enumeration of all SD card commands predefined by standard.  <a href="#af93c4737aafa5967c62525b2db861bd5">More...</a><br /></td></tr>
<tr class="memitem:a859ce15161dc89b1f06a323a82d82f37" id="r_a859ce15161dc89b1f06a323a82d82f37"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a859ce15161dc89b1f06a323a82d82f37">LibsdSpiApplicationCommandId</a> { <br />
&#160;&#160;<a class="el" href="#a859ce15161dc89b1f06a323a82d82f37a1d6f66f881132e0032676f3d0fbf27ad">ACMD13</a> = 13
, <a class="el" href="#a859ce15161dc89b1f06a323a82d82f37a9d6abfe61e876e33a11cda6d3a3d5fc8">ACMD18</a> = 18
, <a class="el" href="#a859ce15161dc89b1f06a323a82d82f37a50d4c6c3bc11d3ec7a7c774fc861097e">ACMD22</a> = 22
, <a class="el" href="#a859ce15161dc89b1f06a323a82d82f37aea6346eee11967d310f37aed7f3dd402">ACMD23</a> = 23
, <br />
&#160;&#160;<a class="el" href="#a859ce15161dc89b1f06a323a82d82f37a0e8bf0dfb18e3c69408619655d1eee40">ACMD25</a> = 25
, <a class="el" href="#a859ce15161dc89b1f06a323a82d82f37a9dd2c01a18fdd5e08694a5c38707c996">ACMD26</a> = 26
, <a class="el" href="#a859ce15161dc89b1f06a323a82d82f37aee288bc9b1c18d7bed1ac6d8e4b734c3">ACMD38</a> = 38
, <a class="el" href="#a859ce15161dc89b1f06a323a82d82f37a2989f2b85bef73f9c75962759a0f997a">ACMD41</a> = 41
, <br />
&#160;&#160;<a class="el" href="#a859ce15161dc89b1f06a323a82d82f37a403065a1f23ce526cde552e65cb232a0">ACMD42</a> = 42
, <a class="el" href="#a859ce15161dc89b1f06a323a82d82f37a7314dd7d63beccdab7755fb5221c6319">ACMD43</a> = 43
, <a class="el" href="#a859ce15161dc89b1f06a323a82d82f37a222d33f52cdb0919c173c226d6950698">ACMD44</a> = 44
, <a class="el" href="#a859ce15161dc89b1f06a323a82d82f37a965cfccfb4e6081a9a086ae0ba675f73">ACMD45</a> = 45
, <br />
&#160;&#160;<a class="el" href="#a859ce15161dc89b1f06a323a82d82f37a2456a27247ad4573895e76bc98c0bec2">ACMD46</a> = 46
, <a class="el" href="#a859ce15161dc89b1f06a323a82d82f37aa49a03171687ec9c06ca974e3fae2602">ACMD47</a> = 47
, <a class="el" href="#a859ce15161dc89b1f06a323a82d82f37a976a1cb6e184900b486ac1755db1d6fa">ACMD48</a> = 48
, <a class="el" href="#a859ce15161dc89b1f06a323a82d82f37abb11ccc5de7b743567b5e0c72f92f381">ACMD49</a> = 49
, <br />
&#160;&#160;<a class="el" href="#a859ce15161dc89b1f06a323a82d82f37a76d3f43ccd3ca5da2bd824e0a2e325a2">ACMD51</a> = 51
, <a class="el" href="#a859ce15161dc89b1f06a323a82d82f37a8fe7ff3a519c58d8ddc65c517783644f">SD_STATUS</a> = ACMD13
, <a class="el" href="#a859ce15161dc89b1f06a323a82d82f37a5c8da97b35e71eeb4e92a45ea5402806">SEND_NUM_WR_BLOCKS</a> = ACMD22
, <a class="el" href="#a859ce15161dc89b1f06a323a82d82f37a233a870eb100c403e0d6de365b3d4c05">SET_WR_BLK_ERASE_COUNT</a> = ACMD23
, <br />
&#160;&#160;<a class="el" href="#a859ce15161dc89b1f06a323a82d82f37af53642a5b99dbca8a7bdf0135cdc5e77">SD_SEND_OP_COND</a> = ACMD41
, <a class="el" href="#a859ce15161dc89b1f06a323a82d82f37a5fce58ca467402785733125df603648d">SET_CLR_CARD_DETECT</a> = ACMD42
, <a class="el" href="#a859ce15161dc89b1f06a323a82d82f37a33d8886113d06895950e6801a7fa5bd9">SEND_SCR</a> = ACMD51
<br />
 }</td></tr>
<tr class="memdesc:a859ce15161dc89b1f06a323a82d82f37"><td class="mdescLeft">&#160;</td><td class="mdescRight">Enumeration of all application specific SD card commands.  <a href="#a859ce15161dc89b1f06a323a82d82f37">More...</a><br /></td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 id="header-func-members" class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:af3cbbaf29e03d8980ad91628e8e4eabc" id="r_af3cbbaf29e03d8980ad91628e8e4eabc"><td class="memItemLeft" align="right" valign="top"><a class="el" href="#a35e9ef4fba3790348b74b5f1bb30e295">LibsdReturnStatus</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#af3cbbaf29e03d8980ad91628e8e4eabc">libsd_card_init</a> (<a class="el" href="struct_libsd_card.html">LibsdCard</a> *card)</td></tr>
<tr class="memdesc:af3cbbaf29e03d8980ad91628e8e4eabc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialize an SD card using the values in a struct.  <br /></td></tr>
<tr class="memitem:ab0298722c83047fc1c9b40c1d5845c00" id="r_ab0298722c83047fc1c9b40c1d5845c00"><td class="memItemLeft" align="right" valign="top"><a class="el" href="#a35e9ef4fba3790348b74b5f1bb30e295">LibsdReturnStatus</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ab0298722c83047fc1c9b40c1d5845c00">libsd_card_send_defined_command</a> (<a class="el" href="struct_libsd_card.html">LibsdCard</a> *card, <a class="el" href="struct_libsd_spi_defined_command.html">LibsdSpiDefinedCommand</a> *cmd, <a class="el" href="union_libsd_spi_command_response.html">LibsdSpiCommandResponse</a> *resp)</td></tr>
<tr class="memdesc:ab0298722c83047fc1c9b40c1d5845c00"><td class="mdescLeft">&#160;</td><td class="mdescRight">Send a predefined command to the card.  <br /></td></tr>
<tr class="memitem:aa9c46209a3939d308325a0ab7a2010b6" id="r_aa9c46209a3939d308325a0ab7a2010b6"><td class="memItemLeft" align="right" valign="top"><a class="el" href="#a35e9ef4fba3790348b74b5f1bb30e295">LibsdReturnStatus</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aa9c46209a3939d308325a0ab7a2010b6">libsd_card_send_application_command</a> (<a class="el" href="struct_libsd_card.html">LibsdCard</a> *card, <a class="el" href="struct_libsd_spi_application_command.html">LibsdSpiApplicationCommand</a> *cmd, <a class="el" href="union_libsd_spi_command_response.html">LibsdSpiCommandResponse</a> *resp)</td></tr>
<tr class="memdesc:aa9c46209a3939d308325a0ab7a2010b6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Send an application specific command to the card.  <br /></td></tr>
<tr class="memitem:a57d87947ed864f3fa837daf44fc2b9ac" id="r_a57d87947ed864f3fa837daf44fc2b9ac"><td class="memItemLeft" align="right" valign="top"><a class="el" href="#a35e9ef4fba3790348b74b5f1bb30e295">LibsdReturnStatus</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a57d87947ed864f3fa837daf44fc2b9ac">libsd_card_write_block</a> (<a class="el" href="struct_libsd_card.html">LibsdCard</a> *card, uint32_t addr, uint8_t *write_buf, uint16_t len)</td></tr>
<tr class="memdesc:a57d87947ed864f3fa837daf44fc2b9ac"><td class="mdescLeft">&#160;</td><td class="mdescRight">Write a block (usually 512 bytes) to the SD card at the given block address.  <br /></td></tr>
<tr class="memitem:ac6aeda3ef42fef5fc5f7e302ec894718" id="r_ac6aeda3ef42fef5fc5f7e302ec894718"><td class="memItemLeft" align="right" valign="top"><a class="el" href="#a35e9ef4fba3790348b74b5f1bb30e295">LibsdReturnStatus</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ac6aeda3ef42fef5fc5f7e302ec894718">libsd_card_read_block</a> (<a class="el" href="struct_libsd_card.html">LibsdCard</a> *card, uint32_t addr, uint8_t *read_buf, uint16_t len)</td></tr>
<tr class="memdesc:ac6aeda3ef42fef5fc5f7e302ec894718"><td class="mdescLeft">&#160;</td><td class="mdescRight">Read a block (usually 512 bytes) from the SD card at the given block address.  <br /></td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 id="header-var-members" class="groupheader"><a id="var-members" name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:afe126337fd5a9407c4216459506fb0bf" id="r_afe126337fd5a9407c4216459506fb0bf"><td class="memItemLeft" align="right" valign="top">const uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#afe126337fd5a9407c4216459506fb0bf">LIBSD_START_BLOCK_SINGLE</a></td></tr>
<tr class="memdesc:afe126337fd5a9407c4216459506fb0bf"><td class="mdescLeft">&#160;</td><td class="mdescRight">Constant that marks start of block for single writes and both reads.  <br /></td></tr>
<tr class="memitem:a6cbbba235c8f9237b7885c3271e401a2" id="r_a6cbbba235c8f9237b7885c3271e401a2"><td class="memItemLeft" align="right" valign="top">const uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a6cbbba235c8f9237b7885c3271e401a2">LIBSD_START_BLOCK_MULTIPLE</a></td></tr>
<tr class="memdesc:a6cbbba235c8f9237b7885c3271e401a2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Constant that marks start of block for multi-block writes.  <br /></td></tr>
<tr class="memitem:ae9d6bd3965ee02b29be0566ca5a40433" id="r_ae9d6bd3965ee02b29be0566ca5a40433"><td class="memItemLeft" align="right" valign="top">const uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ae9d6bd3965ee02b29be0566ca5a40433">LIBSD_STOP_BLOCK_MULTIPLE</a></td></tr>
<tr class="memdesc:ae9d6bd3965ee02b29be0566ca5a40433"><td class="mdescLeft">&#160;</td><td class="mdescRight">Constant that marks end of multi-block write.  <br /></td></tr>
</table>
<a name="doc-enum-members" id="doc-enum-members"></a><h2 id="header-doc-enum-members" class="groupheader">Enumeration Type Documentation</h2>
<a id="a35e9ef4fba3790348b74b5f1bb30e295" name="a35e9ef4fba3790348b74b5f1bb30e295"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a35e9ef4fba3790348b74b5f1bb30e295">&#9670;&#160;</a></span>LibsdReturnStatus</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="#a35e9ef4fba3790348b74b5f1bb30e295">LibsdReturnStatus</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Enumeration of return values from functions in libsd. </p>
<p>These are values that will be returned from many functions in libsd. Please note that these are different than the SD card response codes, and do not indicate the status of the command for the send command functions. The value for LIBSD_OK will not change, but others may be adjusted in the future if necessary. </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="a35e9ef4fba3790348b74b5f1bb30e295aa290c988d692cfa633e720113b73990f" name="a35e9ef4fba3790348b74b5f1bb30e295aa290c988d692cfa633e720113b73990f"></a>LIBSD_OK&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a35e9ef4fba3790348b74b5f1bb30e295a501fd744f95cf0d30eb43f09e4ab5fd6" name="a35e9ef4fba3790348b74b5f1bb30e295a501fd744f95cf0d30eb43f09e4ab5fd6"></a>LIBSD_TIMEOUT&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a35e9ef4fba3790348b74b5f1bb30e295a985ce5a0dd999b7ba42c3739706ce911" name="a35e9ef4fba3790348b74b5f1bb30e295a985ce5a0dd999b7ba42c3739706ce911"></a>LIBSD_INIT_FAILED&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a35e9ef4fba3790348b74b5f1bb30e295a0912ae679e57403dfc8b7b25d9af2aef" name="a35e9ef4fba3790348b74b5f1bb30e295a0912ae679e57403dfc8b7b25d9af2aef"></a>LIBSD_WRITE_FAILED&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a35e9ef4fba3790348b74b5f1bb30e295a7481ed2743af076052eea8bd1507bdb5" name="a35e9ef4fba3790348b74b5f1bb30e295a7481ed2743af076052eea8bd1507bdb5"></a>LIBSD_READ_FAILED&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a35e9ef4fba3790348b74b5f1bb30e295a0aadb7478c96bd88f0587cf94f96ede8" name="a35e9ef4fba3790348b74b5f1bb30e295a0aadb7478c96bd88f0587cf94f96ede8"></a>LIBSD_BUF_TOO_SMALL&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a35e9ef4fba3790348b74b5f1bb30e295a0f82db21f4263d8d617d0f0fc3ea9bd0" name="a35e9ef4fba3790348b74b5f1bb30e295a0f82db21f4263d8d617d0f0fc3ea9bd0"></a>LIBSD_BUF_TOO_LARGE&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a35e9ef4fba3790348b74b5f1bb30e295afd4e1e73c876c7288df868906b8a0877" name="a35e9ef4fba3790348b74b5f1bb30e295afd4e1e73c876c7288df868906b8a0877"></a>LIBSD_CRC_ERROR&#160;</td><td class="fielddoc"></td></tr>
</table>
<div class="fragment"><div class="line"><span class="lineno">   56</span>             {</div>
<div class="line"><span class="lineno">   57</span>    <a class="code hl_enumvalue" href="#a35e9ef4fba3790348b74b5f1bb30e295aa290c988d692cfa633e720113b73990f">LIBSD_OK</a> = 0, <span class="comment">// function completed successfully, no issues (does not guarantee command worked, just that it transferred and was acknowledged)</span></div>
<div class="line"><span class="lineno">   58</span>    <a class="code hl_enumvalue" href="#a35e9ef4fba3790348b74b5f1bb30e295a501fd744f95cf0d30eb43f09e4ab5fd6">LIBSD_TIMEOUT</a> = 1, <span class="comment">// the SD card did not respond to a command in time</span></div>
<div class="line"><span class="lineno">   59</span>    <a class="code hl_enumvalue" href="#a35e9ef4fba3790348b74b5f1bb30e295a985ce5a0dd999b7ba42c3739706ce911">LIBSD_INIT_FAILED</a> = 2, <span class="comment">// the SD card did not initialize as expected</span></div>
<div class="line"><span class="lineno">   60</span>    <a class="code hl_enumvalue" href="#a35e9ef4fba3790348b74b5f1bb30e295a0912ae679e57403dfc8b7b25d9af2aef">LIBSD_WRITE_FAILED</a> = 3, <span class="comment">// the write to the card failed</span></div>
<div class="line"><span class="lineno">   61</span>    <a class="code hl_enumvalue" href="#a35e9ef4fba3790348b74b5f1bb30e295a7481ed2743af076052eea8bd1507bdb5">LIBSD_READ_FAILED</a> = 4, <span class="comment">// the read from the card failed</span></div>
<div class="line"><span class="lineno">   62</span>    <a class="code hl_enumvalue" href="#a35e9ef4fba3790348b74b5f1bb30e295a0aadb7478c96bd88f0587cf94f96ede8">LIBSD_BUF_TOO_SMALL</a> = 5, <span class="comment">// the buffer supplied is smaller than a block</span></div>
<div class="line"><span class="lineno">   63</span>    <a class="code hl_enumvalue" href="#a35e9ef4fba3790348b74b5f1bb30e295a0f82db21f4263d8d617d0f0fc3ea9bd0">LIBSD_BUF_TOO_LARGE</a> = 6, <span class="comment">// the buffer supplied is larger than a block (only a problem for writes)</span></div>
<div class="line"><span class="lineno">   64</span>    <a class="code hl_enumvalue" href="#a35e9ef4fba3790348b74b5f1bb30e295afd4e1e73c876c7288df868906b8a0877">LIBSD_CRC_ERROR</a> = 7</div>
<div class="line"><span class="lineno">   65</span>} <a class="code hl_enumeration" href="#a35e9ef4fba3790348b74b5f1bb30e295">LibsdReturnStatus</a>;</div>
<div class="ttc" id="alibsd_8h_html_a35e9ef4fba3790348b74b5f1bb30e295"><div class="ttname"><a href="#a35e9ef4fba3790348b74b5f1bb30e295">LibsdReturnStatus</a></div><div class="ttdeci">LibsdReturnStatus</div><div class="ttdoc">Enumeration of return values from functions in libsd.</div><div class="ttdef"><b>Definition</b> libsd.h:56</div></div>
<div class="ttc" id="alibsd_8h_html_a35e9ef4fba3790348b74b5f1bb30e295a0912ae679e57403dfc8b7b25d9af2aef"><div class="ttname"><a href="#a35e9ef4fba3790348b74b5f1bb30e295a0912ae679e57403dfc8b7b25d9af2aef">LIBSD_WRITE_FAILED</a></div><div class="ttdeci">@ LIBSD_WRITE_FAILED</div><div class="ttdef"><b>Definition</b> libsd.h:60</div></div>
<div class="ttc" id="alibsd_8h_html_a35e9ef4fba3790348b74b5f1bb30e295a0aadb7478c96bd88f0587cf94f96ede8"><div class="ttname"><a href="#a35e9ef4fba3790348b74b5f1bb30e295a0aadb7478c96bd88f0587cf94f96ede8">LIBSD_BUF_TOO_SMALL</a></div><div class="ttdeci">@ LIBSD_BUF_TOO_SMALL</div><div class="ttdef"><b>Definition</b> libsd.h:62</div></div>
<div class="ttc" id="alibsd_8h_html_a35e9ef4fba3790348b74b5f1bb30e295a0f82db21f4263d8d617d0f0fc3ea9bd0"><div class="ttname"><a href="#a35e9ef4fba3790348b74b5f1bb30e295a0f82db21f4263d8d617d0f0fc3ea9bd0">LIBSD_BUF_TOO_LARGE</a></div><div class="ttdeci">@ LIBSD_BUF_TOO_LARGE</div><div class="ttdef"><b>Definition</b> libsd.h:63</div></div>
<div class="ttc" id="alibsd_8h_html_a35e9ef4fba3790348b74b5f1bb30e295a501fd744f95cf0d30eb43f09e4ab5fd6"><div class="ttname"><a href="#a35e9ef4fba3790348b74b5f1bb30e295a501fd744f95cf0d30eb43f09e4ab5fd6">LIBSD_TIMEOUT</a></div><div class="ttdeci">@ LIBSD_TIMEOUT</div><div class="ttdef"><b>Definition</b> libsd.h:58</div></div>
<div class="ttc" id="alibsd_8h_html_a35e9ef4fba3790348b74b5f1bb30e295a7481ed2743af076052eea8bd1507bdb5"><div class="ttname"><a href="#a35e9ef4fba3790348b74b5f1bb30e295a7481ed2743af076052eea8bd1507bdb5">LIBSD_READ_FAILED</a></div><div class="ttdeci">@ LIBSD_READ_FAILED</div><div class="ttdef"><b>Definition</b> libsd.h:61</div></div>
<div class="ttc" id="alibsd_8h_html_a35e9ef4fba3790348b74b5f1bb30e295a985ce5a0dd999b7ba42c3739706ce911"><div class="ttname"><a href="#a35e9ef4fba3790348b74b5f1bb30e295a985ce5a0dd999b7ba42c3739706ce911">LIBSD_INIT_FAILED</a></div><div class="ttdeci">@ LIBSD_INIT_FAILED</div><div class="ttdef"><b>Definition</b> libsd.h:59</div></div>
<div class="ttc" id="alibsd_8h_html_a35e9ef4fba3790348b74b5f1bb30e295aa290c988d692cfa633e720113b73990f"><div class="ttname"><a href="#a35e9ef4fba3790348b74b5f1bb30e295aa290c988d692cfa633e720113b73990f">LIBSD_OK</a></div><div class="ttdeci">@ LIBSD_OK</div><div class="ttdef"><b>Definition</b> libsd.h:57</div></div>
<div class="ttc" id="alibsd_8h_html_a35e9ef4fba3790348b74b5f1bb30e295afd4e1e73c876c7288df868906b8a0877"><div class="ttname"><a href="#a35e9ef4fba3790348b74b5f1bb30e295afd4e1e73c876c7288df868906b8a0877">LIBSD_CRC_ERROR</a></div><div class="ttdeci">@ LIBSD_CRC_ERROR</div><div class="ttdef"><b>Definition</b> libsd.h:64</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a859ce15161dc89b1f06a323a82d82f37" name="a859ce15161dc89b1f06a323a82d82f37"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a859ce15161dc89b1f06a323a82d82f37">&#9670;&#160;</a></span>LibsdSpiApplicationCommandId</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="#a859ce15161dc89b1f06a323a82d82f37">LibsdSpiApplicationCommandId</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Enumeration of all application specific SD card commands. </p>
<p>Enumeration of both numerical and actual names for SD card application specific SPI commands. Gaps in the numbering are either because the command is reserved or not available for SPI mode (but may work in SDIO mode). Taken from the SD Card Physical Layer Specification. </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="a859ce15161dc89b1f06a323a82d82f37a1d6f66f881132e0032676f3d0fbf27ad" name="a859ce15161dc89b1f06a323a82d82f37a1d6f66f881132e0032676f3d0fbf27ad"></a>ACMD13&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a859ce15161dc89b1f06a323a82d82f37a9d6abfe61e876e33a11cda6d3a3d5fc8" name="a859ce15161dc89b1f06a323a82d82f37a9d6abfe61e876e33a11cda6d3a3d5fc8"></a>ACMD18&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a859ce15161dc89b1f06a323a82d82f37a50d4c6c3bc11d3ec7a7c774fc861097e" name="a859ce15161dc89b1f06a323a82d82f37a50d4c6c3bc11d3ec7a7c774fc861097e"></a>ACMD22&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a859ce15161dc89b1f06a323a82d82f37aea6346eee11967d310f37aed7f3dd402" name="a859ce15161dc89b1f06a323a82d82f37aea6346eee11967d310f37aed7f3dd402"></a>ACMD23&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a859ce15161dc89b1f06a323a82d82f37a0e8bf0dfb18e3c69408619655d1eee40" name="a859ce15161dc89b1f06a323a82d82f37a0e8bf0dfb18e3c69408619655d1eee40"></a>ACMD25&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a859ce15161dc89b1f06a323a82d82f37a9dd2c01a18fdd5e08694a5c38707c996" name="a859ce15161dc89b1f06a323a82d82f37a9dd2c01a18fdd5e08694a5c38707c996"></a>ACMD26&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a859ce15161dc89b1f06a323a82d82f37aee288bc9b1c18d7bed1ac6d8e4b734c3" name="a859ce15161dc89b1f06a323a82d82f37aee288bc9b1c18d7bed1ac6d8e4b734c3"></a>ACMD38&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a859ce15161dc89b1f06a323a82d82f37a2989f2b85bef73f9c75962759a0f997a" name="a859ce15161dc89b1f06a323a82d82f37a2989f2b85bef73f9c75962759a0f997a"></a>ACMD41&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a859ce15161dc89b1f06a323a82d82f37a403065a1f23ce526cde552e65cb232a0" name="a859ce15161dc89b1f06a323a82d82f37a403065a1f23ce526cde552e65cb232a0"></a>ACMD42&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a859ce15161dc89b1f06a323a82d82f37a7314dd7d63beccdab7755fb5221c6319" name="a859ce15161dc89b1f06a323a82d82f37a7314dd7d63beccdab7755fb5221c6319"></a>ACMD43&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a859ce15161dc89b1f06a323a82d82f37a222d33f52cdb0919c173c226d6950698" name="a859ce15161dc89b1f06a323a82d82f37a222d33f52cdb0919c173c226d6950698"></a>ACMD44&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a859ce15161dc89b1f06a323a82d82f37a965cfccfb4e6081a9a086ae0ba675f73" name="a859ce15161dc89b1f06a323a82d82f37a965cfccfb4e6081a9a086ae0ba675f73"></a>ACMD45&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a859ce15161dc89b1f06a323a82d82f37a2456a27247ad4573895e76bc98c0bec2" name="a859ce15161dc89b1f06a323a82d82f37a2456a27247ad4573895e76bc98c0bec2"></a>ACMD46&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a859ce15161dc89b1f06a323a82d82f37aa49a03171687ec9c06ca974e3fae2602" name="a859ce15161dc89b1f06a323a82d82f37aa49a03171687ec9c06ca974e3fae2602"></a>ACMD47&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a859ce15161dc89b1f06a323a82d82f37a976a1cb6e184900b486ac1755db1d6fa" name="a859ce15161dc89b1f06a323a82d82f37a976a1cb6e184900b486ac1755db1d6fa"></a>ACMD48&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a859ce15161dc89b1f06a323a82d82f37abb11ccc5de7b743567b5e0c72f92f381" name="a859ce15161dc89b1f06a323a82d82f37abb11ccc5de7b743567b5e0c72f92f381"></a>ACMD49&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a859ce15161dc89b1f06a323a82d82f37a76d3f43ccd3ca5da2bd824e0a2e325a2" name="a859ce15161dc89b1f06a323a82d82f37a76d3f43ccd3ca5da2bd824e0a2e325a2"></a>ACMD51&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a859ce15161dc89b1f06a323a82d82f37a8fe7ff3a519c58d8ddc65c517783644f" name="a859ce15161dc89b1f06a323a82d82f37a8fe7ff3a519c58d8ddc65c517783644f"></a>SD_STATUS&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a859ce15161dc89b1f06a323a82d82f37a5c8da97b35e71eeb4e92a45ea5402806" name="a859ce15161dc89b1f06a323a82d82f37a5c8da97b35e71eeb4e92a45ea5402806"></a>SEND_NUM_WR_BLOCKS&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a859ce15161dc89b1f06a323a82d82f37a233a870eb100c403e0d6de365b3d4c05" name="a859ce15161dc89b1f06a323a82d82f37a233a870eb100c403e0d6de365b3d4c05"></a>SET_WR_BLK_ERASE_COUNT&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a859ce15161dc89b1f06a323a82d82f37af53642a5b99dbca8a7bdf0135cdc5e77" name="a859ce15161dc89b1f06a323a82d82f37af53642a5b99dbca8a7bdf0135cdc5e77"></a>SD_SEND_OP_COND&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a859ce15161dc89b1f06a323a82d82f37a5fce58ca467402785733125df603648d" name="a859ce15161dc89b1f06a323a82d82f37a5fce58ca467402785733125df603648d"></a>SET_CLR_CARD_DETECT&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a859ce15161dc89b1f06a323a82d82f37a33d8886113d06895950e6801a7fa5bd9" name="a859ce15161dc89b1f06a323a82d82f37a33d8886113d06895950e6801a7fa5bd9"></a>SEND_SCR&#160;</td><td class="fielddoc"></td></tr>
</table>
<div class="fragment"><div class="line"><span class="lineno">  139</span>             {</div>
<div class="line"><span class="lineno">  140</span>    <span class="comment">// Numerical names for commands</span></div>
<div class="line"><span class="lineno">  141</span>    <a class="code hl_enumvalue" href="#a859ce15161dc89b1f06a323a82d82f37a1d6f66f881132e0032676f3d0fbf27ad">ACMD13</a> = 13,</div>
<div class="line"><span class="lineno">  142</span>    <a class="code hl_enumvalue" href="#a859ce15161dc89b1f06a323a82d82f37a9d6abfe61e876e33a11cda6d3a3d5fc8">ACMD18</a> = 18,</div>
<div class="line"><span class="lineno">  143</span>    <a class="code hl_enumvalue" href="#a859ce15161dc89b1f06a323a82d82f37a50d4c6c3bc11d3ec7a7c774fc861097e">ACMD22</a> = 22,</div>
<div class="line"><span class="lineno">  144</span>    <a class="code hl_enumvalue" href="#a859ce15161dc89b1f06a323a82d82f37aea6346eee11967d310f37aed7f3dd402">ACMD23</a> = 23,</div>
<div class="line"><span class="lineno">  145</span>    <a class="code hl_enumvalue" href="#a859ce15161dc89b1f06a323a82d82f37a0e8bf0dfb18e3c69408619655d1eee40">ACMD25</a> = 25,</div>
<div class="line"><span class="lineno">  146</span>    <a class="code hl_enumvalue" href="#a859ce15161dc89b1f06a323a82d82f37a9dd2c01a18fdd5e08694a5c38707c996">ACMD26</a> = 26,</div>
<div class="line"><span class="lineno">  147</span>    <a class="code hl_enumvalue" href="#a859ce15161dc89b1f06a323a82d82f37aee288bc9b1c18d7bed1ac6d8e4b734c3">ACMD38</a> = 38,</div>
<div class="line"><span class="lineno">  148</span>    <a class="code hl_enumvalue" href="#a859ce15161dc89b1f06a323a82d82f37a2989f2b85bef73f9c75962759a0f997a">ACMD41</a> = 41,</div>
<div class="line"><span class="lineno">  149</span>    <a class="code hl_enumvalue" href="#a859ce15161dc89b1f06a323a82d82f37a403065a1f23ce526cde552e65cb232a0">ACMD42</a> = 42,</div>
<div class="line"><span class="lineno">  150</span>    <a class="code hl_enumvalue" href="#a859ce15161dc89b1f06a323a82d82f37a7314dd7d63beccdab7755fb5221c6319">ACMD43</a> = 43,</div>
<div class="line"><span class="lineno">  151</span>    <a class="code hl_enumvalue" href="#a859ce15161dc89b1f06a323a82d82f37a222d33f52cdb0919c173c226d6950698">ACMD44</a> = 44,</div>
<div class="line"><span class="lineno">  152</span>    <a class="code hl_enumvalue" href="#a859ce15161dc89b1f06a323a82d82f37a965cfccfb4e6081a9a086ae0ba675f73">ACMD45</a> = 45,</div>
<div class="line"><span class="lineno">  153</span>    <a class="code hl_enumvalue" href="#a859ce15161dc89b1f06a323a82d82f37a2456a27247ad4573895e76bc98c0bec2">ACMD46</a> = 46,</div>
<div class="line"><span class="lineno">  154</span>    <a class="code hl_enumvalue" href="#a859ce15161dc89b1f06a323a82d82f37aa49a03171687ec9c06ca974e3fae2602">ACMD47</a> = 47,</div>
<div class="line"><span class="lineno">  155</span>    <a class="code hl_enumvalue" href="#a859ce15161dc89b1f06a323a82d82f37a976a1cb6e184900b486ac1755db1d6fa">ACMD48</a> = 48,</div>
<div class="line"><span class="lineno">  156</span>    <a class="code hl_enumvalue" href="#a859ce15161dc89b1f06a323a82d82f37abb11ccc5de7b743567b5e0c72f92f381">ACMD49</a> = 49,</div>
<div class="line"><span class="lineno">  157</span>    <a class="code hl_enumvalue" href="#a859ce15161dc89b1f06a323a82d82f37a76d3f43ccd3ca5da2bd824e0a2e325a2">ACMD51</a> = 51,</div>
<div class="line"><span class="lineno">  158</span> </div>
<div class="line"><span class="lineno">  159</span>    <span class="comment">// Actual names for commands</span></div>
<div class="line"><span class="lineno">  160</span>    <a class="code hl_enumvalue" href="#a859ce15161dc89b1f06a323a82d82f37a8fe7ff3a519c58d8ddc65c517783644f">SD_STATUS</a>              = <a class="code hl_enumvalue" href="#a859ce15161dc89b1f06a323a82d82f37a1d6f66f881132e0032676f3d0fbf27ad">ACMD13</a>,</div>
<div class="line"><span class="lineno">  161</span>    <a class="code hl_enumvalue" href="#a859ce15161dc89b1f06a323a82d82f37a5c8da97b35e71eeb4e92a45ea5402806">SEND_NUM_WR_BLOCKS</a>     = <a class="code hl_enumvalue" href="#a859ce15161dc89b1f06a323a82d82f37a50d4c6c3bc11d3ec7a7c774fc861097e">ACMD22</a>,</div>
<div class="line"><span class="lineno">  162</span>    <a class="code hl_enumvalue" href="#a859ce15161dc89b1f06a323a82d82f37a233a870eb100c403e0d6de365b3d4c05">SET_WR_BLK_ERASE_COUNT</a> = <a class="code hl_enumvalue" href="#a859ce15161dc89b1f06a323a82d82f37aea6346eee11967d310f37aed7f3dd402">ACMD23</a>,</div>
<div class="line"><span class="lineno">  163</span>    <a class="code hl_enumvalue" href="#a859ce15161dc89b1f06a323a82d82f37af53642a5b99dbca8a7bdf0135cdc5e77">SD_SEND_OP_COND</a>        = <a class="code hl_enumvalue" href="#a859ce15161dc89b1f06a323a82d82f37a2989f2b85bef73f9c75962759a0f997a">ACMD41</a>,</div>
<div class="line"><span class="lineno">  164</span>    <a class="code hl_enumvalue" href="#a859ce15161dc89b1f06a323a82d82f37a5fce58ca467402785733125df603648d">SET_CLR_CARD_DETECT</a>    = <a class="code hl_enumvalue" href="#a859ce15161dc89b1f06a323a82d82f37a403065a1f23ce526cde552e65cb232a0">ACMD42</a>,</div>
<div class="line"><span class="lineno">  165</span>    <a class="code hl_enumvalue" href="#a859ce15161dc89b1f06a323a82d82f37a33d8886113d06895950e6801a7fa5bd9">SEND_SCR</a>               = <a class="code hl_enumvalue" href="#a859ce15161dc89b1f06a323a82d82f37a76d3f43ccd3ca5da2bd824e0a2e325a2">ACMD51</a></div>
<div class="line"><span class="lineno">  166</span>} <a class="code hl_enumeration" href="#a859ce15161dc89b1f06a323a82d82f37">LibsdSpiApplicationCommandId</a>;</div>
<div class="ttc" id="alibsd_8h_html_a859ce15161dc89b1f06a323a82d82f37"><div class="ttname"><a href="#a859ce15161dc89b1f06a323a82d82f37">LibsdSpiApplicationCommandId</a></div><div class="ttdeci">LibsdSpiApplicationCommandId</div><div class="ttdoc">Enumeration of all application specific SD card commands.</div><div class="ttdef"><b>Definition</b> libsd.h:139</div></div>
<div class="ttc" id="alibsd_8h_html_a859ce15161dc89b1f06a323a82d82f37a0e8bf0dfb18e3c69408619655d1eee40"><div class="ttname"><a href="#a859ce15161dc89b1f06a323a82d82f37a0e8bf0dfb18e3c69408619655d1eee40">ACMD25</a></div><div class="ttdeci">@ ACMD25</div><div class="ttdef"><b>Definition</b> libsd.h:145</div></div>
<div class="ttc" id="alibsd_8h_html_a859ce15161dc89b1f06a323a82d82f37a1d6f66f881132e0032676f3d0fbf27ad"><div class="ttname"><a href="#a859ce15161dc89b1f06a323a82d82f37a1d6f66f881132e0032676f3d0fbf27ad">ACMD13</a></div><div class="ttdeci">@ ACMD13</div><div class="ttdef"><b>Definition</b> libsd.h:141</div></div>
<div class="ttc" id="alibsd_8h_html_a859ce15161dc89b1f06a323a82d82f37a222d33f52cdb0919c173c226d6950698"><div class="ttname"><a href="#a859ce15161dc89b1f06a323a82d82f37a222d33f52cdb0919c173c226d6950698">ACMD44</a></div><div class="ttdeci">@ ACMD44</div><div class="ttdef"><b>Definition</b> libsd.h:151</div></div>
<div class="ttc" id="alibsd_8h_html_a859ce15161dc89b1f06a323a82d82f37a233a870eb100c403e0d6de365b3d4c05"><div class="ttname"><a href="#a859ce15161dc89b1f06a323a82d82f37a233a870eb100c403e0d6de365b3d4c05">SET_WR_BLK_ERASE_COUNT</a></div><div class="ttdeci">@ SET_WR_BLK_ERASE_COUNT</div><div class="ttdef"><b>Definition</b> libsd.h:162</div></div>
<div class="ttc" id="alibsd_8h_html_a859ce15161dc89b1f06a323a82d82f37a2456a27247ad4573895e76bc98c0bec2"><div class="ttname"><a href="#a859ce15161dc89b1f06a323a82d82f37a2456a27247ad4573895e76bc98c0bec2">ACMD46</a></div><div class="ttdeci">@ ACMD46</div><div class="ttdef"><b>Definition</b> libsd.h:153</div></div>
<div class="ttc" id="alibsd_8h_html_a859ce15161dc89b1f06a323a82d82f37a2989f2b85bef73f9c75962759a0f997a"><div class="ttname"><a href="#a859ce15161dc89b1f06a323a82d82f37a2989f2b85bef73f9c75962759a0f997a">ACMD41</a></div><div class="ttdeci">@ ACMD41</div><div class="ttdef"><b>Definition</b> libsd.h:148</div></div>
<div class="ttc" id="alibsd_8h_html_a859ce15161dc89b1f06a323a82d82f37a33d8886113d06895950e6801a7fa5bd9"><div class="ttname"><a href="#a859ce15161dc89b1f06a323a82d82f37a33d8886113d06895950e6801a7fa5bd9">SEND_SCR</a></div><div class="ttdeci">@ SEND_SCR</div><div class="ttdef"><b>Definition</b> libsd.h:165</div></div>
<div class="ttc" id="alibsd_8h_html_a859ce15161dc89b1f06a323a82d82f37a403065a1f23ce526cde552e65cb232a0"><div class="ttname"><a href="#a859ce15161dc89b1f06a323a82d82f37a403065a1f23ce526cde552e65cb232a0">ACMD42</a></div><div class="ttdeci">@ ACMD42</div><div class="ttdef"><b>Definition</b> libsd.h:149</div></div>
<div class="ttc" id="alibsd_8h_html_a859ce15161dc89b1f06a323a82d82f37a50d4c6c3bc11d3ec7a7c774fc861097e"><div class="ttname"><a href="#a859ce15161dc89b1f06a323a82d82f37a50d4c6c3bc11d3ec7a7c774fc861097e">ACMD22</a></div><div class="ttdeci">@ ACMD22</div><div class="ttdef"><b>Definition</b> libsd.h:143</div></div>
<div class="ttc" id="alibsd_8h_html_a859ce15161dc89b1f06a323a82d82f37a5c8da97b35e71eeb4e92a45ea5402806"><div class="ttname"><a href="#a859ce15161dc89b1f06a323a82d82f37a5c8da97b35e71eeb4e92a45ea5402806">SEND_NUM_WR_BLOCKS</a></div><div class="ttdeci">@ SEND_NUM_WR_BLOCKS</div><div class="ttdef"><b>Definition</b> libsd.h:161</div></div>
<div class="ttc" id="alibsd_8h_html_a859ce15161dc89b1f06a323a82d82f37a5fce58ca467402785733125df603648d"><div class="ttname"><a href="#a859ce15161dc89b1f06a323a82d82f37a5fce58ca467402785733125df603648d">SET_CLR_CARD_DETECT</a></div><div class="ttdeci">@ SET_CLR_CARD_DETECT</div><div class="ttdef"><b>Definition</b> libsd.h:164</div></div>
<div class="ttc" id="alibsd_8h_html_a859ce15161dc89b1f06a323a82d82f37a7314dd7d63beccdab7755fb5221c6319"><div class="ttname"><a href="#a859ce15161dc89b1f06a323a82d82f37a7314dd7d63beccdab7755fb5221c6319">ACMD43</a></div><div class="ttdeci">@ ACMD43</div><div class="ttdef"><b>Definition</b> libsd.h:150</div></div>
<div class="ttc" id="alibsd_8h_html_a859ce15161dc89b1f06a323a82d82f37a76d3f43ccd3ca5da2bd824e0a2e325a2"><div class="ttname"><a href="#a859ce15161dc89b1f06a323a82d82f37a76d3f43ccd3ca5da2bd824e0a2e325a2">ACMD51</a></div><div class="ttdeci">@ ACMD51</div><div class="ttdef"><b>Definition</b> libsd.h:157</div></div>
<div class="ttc" id="alibsd_8h_html_a859ce15161dc89b1f06a323a82d82f37a8fe7ff3a519c58d8ddc65c517783644f"><div class="ttname"><a href="#a859ce15161dc89b1f06a323a82d82f37a8fe7ff3a519c58d8ddc65c517783644f">SD_STATUS</a></div><div class="ttdeci">@ SD_STATUS</div><div class="ttdef"><b>Definition</b> libsd.h:160</div></div>
<div class="ttc" id="alibsd_8h_html_a859ce15161dc89b1f06a323a82d82f37a965cfccfb4e6081a9a086ae0ba675f73"><div class="ttname"><a href="#a859ce15161dc89b1f06a323a82d82f37a965cfccfb4e6081a9a086ae0ba675f73">ACMD45</a></div><div class="ttdeci">@ ACMD45</div><div class="ttdef"><b>Definition</b> libsd.h:152</div></div>
<div class="ttc" id="alibsd_8h_html_a859ce15161dc89b1f06a323a82d82f37a976a1cb6e184900b486ac1755db1d6fa"><div class="ttname"><a href="#a859ce15161dc89b1f06a323a82d82f37a976a1cb6e184900b486ac1755db1d6fa">ACMD48</a></div><div class="ttdeci">@ ACMD48</div><div class="ttdef"><b>Definition</b> libsd.h:155</div></div>
<div class="ttc" id="alibsd_8h_html_a859ce15161dc89b1f06a323a82d82f37a9d6abfe61e876e33a11cda6d3a3d5fc8"><div class="ttname"><a href="#a859ce15161dc89b1f06a323a82d82f37a9d6abfe61e876e33a11cda6d3a3d5fc8">ACMD18</a></div><div class="ttdeci">@ ACMD18</div><div class="ttdef"><b>Definition</b> libsd.h:142</div></div>
<div class="ttc" id="alibsd_8h_html_a859ce15161dc89b1f06a323a82d82f37a9dd2c01a18fdd5e08694a5c38707c996"><div class="ttname"><a href="#a859ce15161dc89b1f06a323a82d82f37a9dd2c01a18fdd5e08694a5c38707c996">ACMD26</a></div><div class="ttdeci">@ ACMD26</div><div class="ttdef"><b>Definition</b> libsd.h:146</div></div>
<div class="ttc" id="alibsd_8h_html_a859ce15161dc89b1f06a323a82d82f37aa49a03171687ec9c06ca974e3fae2602"><div class="ttname"><a href="#a859ce15161dc89b1f06a323a82d82f37aa49a03171687ec9c06ca974e3fae2602">ACMD47</a></div><div class="ttdeci">@ ACMD47</div><div class="ttdef"><b>Definition</b> libsd.h:154</div></div>
<div class="ttc" id="alibsd_8h_html_a859ce15161dc89b1f06a323a82d82f37abb11ccc5de7b743567b5e0c72f92f381"><div class="ttname"><a href="#a859ce15161dc89b1f06a323a82d82f37abb11ccc5de7b743567b5e0c72f92f381">ACMD49</a></div><div class="ttdeci">@ ACMD49</div><div class="ttdef"><b>Definition</b> libsd.h:156</div></div>
<div class="ttc" id="alibsd_8h_html_a859ce15161dc89b1f06a323a82d82f37aea6346eee11967d310f37aed7f3dd402"><div class="ttname"><a href="#a859ce15161dc89b1f06a323a82d82f37aea6346eee11967d310f37aed7f3dd402">ACMD23</a></div><div class="ttdeci">@ ACMD23</div><div class="ttdef"><b>Definition</b> libsd.h:144</div></div>
<div class="ttc" id="alibsd_8h_html_a859ce15161dc89b1f06a323a82d82f37aee288bc9b1c18d7bed1ac6d8e4b734c3"><div class="ttname"><a href="#a859ce15161dc89b1f06a323a82d82f37aee288bc9b1c18d7bed1ac6d8e4b734c3">ACMD38</a></div><div class="ttdeci">@ ACMD38</div><div class="ttdef"><b>Definition</b> libsd.h:147</div></div>
<div class="ttc" id="alibsd_8h_html_a859ce15161dc89b1f06a323a82d82f37af53642a5b99dbca8a7bdf0135cdc5e77"><div class="ttname"><a href="#a859ce15161dc89b1f06a323a82d82f37af53642a5b99dbca8a7bdf0135cdc5e77">SD_SEND_OP_COND</a></div><div class="ttdeci">@ SD_SEND_OP_COND</div><div class="ttdef"><b>Definition</b> libsd.h:163</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="af93c4737aafa5967c62525b2db861bd5" name="af93c4737aafa5967c62525b2db861bd5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af93c4737aafa5967c62525b2db861bd5">&#9670;&#160;</a></span>LibsdSpiDefinedCommandId</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="#af93c4737aafa5967c62525b2db861bd5">LibsdSpiDefinedCommandId</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Enumeration of all SD card commands predefined by standard. </p>
<p>Enumeration of both numerical and actual names for SD card SPI commands. Gaps in the numbering are either because the command is reserved or not available for SPI mode (but may work in SDIO mode). Taken from the SD Card Physical Layer Specification. </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="af93c4737aafa5967c62525b2db861bd5a36541b415ae5967751b3c72878f80aa8" name="af93c4737aafa5967c62525b2db861bd5a36541b415ae5967751b3c72878f80aa8"></a>CMD0&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="af93c4737aafa5967c62525b2db861bd5a47ee3e681c20ff5c495493e77ca34368" name="af93c4737aafa5967c62525b2db861bd5a47ee3e681c20ff5c495493e77ca34368"></a>CMD1&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="af93c4737aafa5967c62525b2db861bd5a108117a364ab0acbb9f98c884a83d4de" name="af93c4737aafa5967c62525b2db861bd5a108117a364ab0acbb9f98c884a83d4de"></a>CMD6&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="af93c4737aafa5967c62525b2db861bd5a651ee13eedad94e8b3e08c5a666fb820" name="af93c4737aafa5967c62525b2db861bd5a651ee13eedad94e8b3e08c5a666fb820"></a>CMD8&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="af93c4737aafa5967c62525b2db861bd5a4104f864a4e56683eecd7e14baead027" name="af93c4737aafa5967c62525b2db861bd5a4104f864a4e56683eecd7e14baead027"></a>CMD9&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="af93c4737aafa5967c62525b2db861bd5a18484c198b2d973707932d615e2e7362" name="af93c4737aafa5967c62525b2db861bd5a18484c198b2d973707932d615e2e7362"></a>CMD10&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="af93c4737aafa5967c62525b2db861bd5ab3eb4943342fc8d4760b87ae97f8d259" name="af93c4737aafa5967c62525b2db861bd5ab3eb4943342fc8d4760b87ae97f8d259"></a>CMD12&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="af93c4737aafa5967c62525b2db861bd5adb3d8777afe922d38ef02e8dcfeb8420" name="af93c4737aafa5967c62525b2db861bd5adb3d8777afe922d38ef02e8dcfeb8420"></a>CMD13&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="af93c4737aafa5967c62525b2db861bd5aac87bb1842300e8cfb83fda7c72abcde" name="af93c4737aafa5967c62525b2db861bd5aac87bb1842300e8cfb83fda7c72abcde"></a>CMD16&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="af93c4737aafa5967c62525b2db861bd5a95702a46b620fa7fd0c3a9393e81dae2" name="af93c4737aafa5967c62525b2db861bd5a95702a46b620fa7fd0c3a9393e81dae2"></a>CMD17&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="af93c4737aafa5967c62525b2db861bd5a6208383a5bd0425b4b2095449bb22196" name="af93c4737aafa5967c62525b2db861bd5a6208383a5bd0425b4b2095449bb22196"></a>CMD18&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="af93c4737aafa5967c62525b2db861bd5a942069fd9af24fe9f27ac88c02bd4dc0" name="af93c4737aafa5967c62525b2db861bd5a942069fd9af24fe9f27ac88c02bd4dc0"></a>CMD24&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="af93c4737aafa5967c62525b2db861bd5a102d8de2cd23f65f8be2c992fd3bfc29" name="af93c4737aafa5967c62525b2db861bd5a102d8de2cd23f65f8be2c992fd3bfc29"></a>CMD25&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="af93c4737aafa5967c62525b2db861bd5a92b4e0176704b4f8f8936fc9b0c6ad63" name="af93c4737aafa5967c62525b2db861bd5a92b4e0176704b4f8f8936fc9b0c6ad63"></a>CMD27&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="af93c4737aafa5967c62525b2db861bd5a0b50c274986c491d4dbc30c7a3da1966" name="af93c4737aafa5967c62525b2db861bd5a0b50c274986c491d4dbc30c7a3da1966"></a>CMD28&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="af93c4737aafa5967c62525b2db861bd5abba191301ca9cded3815c3b7f3d69371" name="af93c4737aafa5967c62525b2db861bd5abba191301ca9cded3815c3b7f3d69371"></a>CMD29&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="af93c4737aafa5967c62525b2db861bd5a63cf7dbbdc07b9798eda00909eae58a9" name="af93c4737aafa5967c62525b2db861bd5a63cf7dbbdc07b9798eda00909eae58a9"></a>CMD30&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="af93c4737aafa5967c62525b2db861bd5af3c4af53adc6cf1f814a936fe515334e" name="af93c4737aafa5967c62525b2db861bd5af3c4af53adc6cf1f814a936fe515334e"></a>CMD32&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="af93c4737aafa5967c62525b2db861bd5a61970fcf2b514e2a3087f397536e81b5" name="af93c4737aafa5967c62525b2db861bd5a61970fcf2b514e2a3087f397536e81b5"></a>CMD33&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="af93c4737aafa5967c62525b2db861bd5a8295cc520ba543348e74d9cec38438d4" name="af93c4737aafa5967c62525b2db861bd5a8295cc520ba543348e74d9cec38438d4"></a>CMD38&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="af93c4737aafa5967c62525b2db861bd5a07e56339baf8c13d18d81f5859a31baa" name="af93c4737aafa5967c62525b2db861bd5a07e56339baf8c13d18d81f5859a31baa"></a>CMD42&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="af93c4737aafa5967c62525b2db861bd5a36edfb2a83221c8c3a3ad0d84072200d" name="af93c4737aafa5967c62525b2db861bd5a36edfb2a83221c8c3a3ad0d84072200d"></a>CMD55&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="af93c4737aafa5967c62525b2db861bd5a8aa988b277f52c09fbaf39740f33867d" name="af93c4737aafa5967c62525b2db861bd5a8aa988b277f52c09fbaf39740f33867d"></a>CMD56&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="af93c4737aafa5967c62525b2db861bd5acb344739b2733fe7ef0c8f28a92896d1" name="af93c4737aafa5967c62525b2db861bd5acb344739b2733fe7ef0c8f28a92896d1"></a>CMD58&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="af93c4737aafa5967c62525b2db861bd5a7aeecfde4608a4ae1b7afcb3d37349d8" name="af93c4737aafa5967c62525b2db861bd5a7aeecfde4608a4ae1b7afcb3d37349d8"></a>CMD59&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="af93c4737aafa5967c62525b2db861bd5a6f824aa2a760266a6bb66287abfaf2df" name="af93c4737aafa5967c62525b2db861bd5a6f824aa2a760266a6bb66287abfaf2df"></a>GO_IDLE_STATE&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="af93c4737aafa5967c62525b2db861bd5a07d91a17024637fc003cce13a0e58849" name="af93c4737aafa5967c62525b2db861bd5a07d91a17024637fc003cce13a0e58849"></a>SEND_OP_COND&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="af93c4737aafa5967c62525b2db861bd5a5862474e029edce6895fd17571933822" name="af93c4737aafa5967c62525b2db861bd5a5862474e029edce6895fd17571933822"></a>SWITCH_FUNC&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="af93c4737aafa5967c62525b2db861bd5a54ea42ae5cc87fc72f0941e48828d34d" name="af93c4737aafa5967c62525b2db861bd5a54ea42ae5cc87fc72f0941e48828d34d"></a>SEND_IF_COND&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="af93c4737aafa5967c62525b2db861bd5a32550ff14785bd6e01de42951021c8ff" name="af93c4737aafa5967c62525b2db861bd5a32550ff14785bd6e01de42951021c8ff"></a>SEND_CSD&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="af93c4737aafa5967c62525b2db861bd5a1d6820714043c4791409620c718a74fb" name="af93c4737aafa5967c62525b2db861bd5a1d6820714043c4791409620c718a74fb"></a>SEND_CID&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="af93c4737aafa5967c62525b2db861bd5a7d043a4f7c42bd6aeb8dfc7574127565" name="af93c4737aafa5967c62525b2db861bd5a7d043a4f7c42bd6aeb8dfc7574127565"></a>STOP_TRANSMISSION&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="af93c4737aafa5967c62525b2db861bd5ae88af817feffec91cec7143bd5a4cad5" name="af93c4737aafa5967c62525b2db861bd5ae88af817feffec91cec7143bd5a4cad5"></a>SEND_STATUS&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="af93c4737aafa5967c62525b2db861bd5a3f01cc7b4d0989ccec9edeeb264513d8" name="af93c4737aafa5967c62525b2db861bd5a3f01cc7b4d0989ccec9edeeb264513d8"></a>SET_BLOCKLEN&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="af93c4737aafa5967c62525b2db861bd5a981471a896d209c94bcb967e9eda2538" name="af93c4737aafa5967c62525b2db861bd5a981471a896d209c94bcb967e9eda2538"></a>READ_SINGLE_BLOCK&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="af93c4737aafa5967c62525b2db861bd5aad30368720ac8926900f9479948a7f48" name="af93c4737aafa5967c62525b2db861bd5aad30368720ac8926900f9479948a7f48"></a>READ_MULTIPLE_BLOCK&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="af93c4737aafa5967c62525b2db861bd5a577bfdd5ef3f3d9b50bdecbd7cf04b9e" name="af93c4737aafa5967c62525b2db861bd5a577bfdd5ef3f3d9b50bdecbd7cf04b9e"></a>WRITE_BLOCK&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="af93c4737aafa5967c62525b2db861bd5a28f9f0c4e8d6e0d25e4c48aab4fc7b8b" name="af93c4737aafa5967c62525b2db861bd5a28f9f0c4e8d6e0d25e4c48aab4fc7b8b"></a>WRITE_MULTIPLE_BLOCK&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="af93c4737aafa5967c62525b2db861bd5ad08a859a9e416a9ad199e7a5ab5b9563" name="af93c4737aafa5967c62525b2db861bd5ad08a859a9e416a9ad199e7a5ab5b9563"></a>PROGRAM_CSD&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="af93c4737aafa5967c62525b2db861bd5a608c3c2839cdbfcb59a5471e5e738485" name="af93c4737aafa5967c62525b2db861bd5a608c3c2839cdbfcb59a5471e5e738485"></a>SET_WRITE_PROT&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="af93c4737aafa5967c62525b2db861bd5ab16bb2db0dfd470936d304fa936db333" name="af93c4737aafa5967c62525b2db861bd5ab16bb2db0dfd470936d304fa936db333"></a>CLR_WRITE_PROT&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="af93c4737aafa5967c62525b2db861bd5ad02b96ec3dceec611b68d602b190d29d" name="af93c4737aafa5967c62525b2db861bd5ad02b96ec3dceec611b68d602b190d29d"></a>SEND_WRITE_PROT&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="af93c4737aafa5967c62525b2db861bd5acbcdcead4af7b991e8cc50d96da7627a" name="af93c4737aafa5967c62525b2db861bd5acbcdcead4af7b991e8cc50d96da7627a"></a>ERASE_WR_BLK_START_ADDR&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="af93c4737aafa5967c62525b2db861bd5a0074cb30d79c5c61da8e9a4cdbc74730" name="af93c4737aafa5967c62525b2db861bd5a0074cb30d79c5c61da8e9a4cdbc74730"></a>ERASE_WR_BLK_END_ADDR&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="af93c4737aafa5967c62525b2db861bd5a33da92285188399f32dced50082643a2" name="af93c4737aafa5967c62525b2db861bd5a33da92285188399f32dced50082643a2"></a>ERASE&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="af93c4737aafa5967c62525b2db861bd5a33a3402e588be6c7abed413c6cbc9605" name="af93c4737aafa5967c62525b2db861bd5a33a3402e588be6c7abed413c6cbc9605"></a>LOCK_UNLOCK&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="af93c4737aafa5967c62525b2db861bd5ab1f86f7ebbfab11df1eb34efbaa06205" name="af93c4737aafa5967c62525b2db861bd5ab1f86f7ebbfab11df1eb34efbaa06205"></a>APP_CMD&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="af93c4737aafa5967c62525b2db861bd5ab5aabb906a4d06498b5a5903d84335cd" name="af93c4737aafa5967c62525b2db861bd5ab5aabb906a4d06498b5a5903d84335cd"></a>GEN_CMD&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="af93c4737aafa5967c62525b2db861bd5a4bc59666fe5dfd64bd4b1ef6f9fea31a" name="af93c4737aafa5967c62525b2db861bd5a4bc59666fe5dfd64bd4b1ef6f9fea31a"></a>READ_OCR&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="af93c4737aafa5967c62525b2db861bd5a3b33578f9d7eec47f767284c51165ed2" name="af93c4737aafa5967c62525b2db861bd5a3b33578f9d7eec47f767284c51165ed2"></a>CRC_ON_OFF&#160;</td><td class="fielddoc"></td></tr>
</table>
<div class="fragment"><div class="line"><span class="lineno">   75</span>             {</div>
<div class="line"><span class="lineno">   76</span>    <span class="comment">// Numerical names for commands</span></div>
<div class="line"><span class="lineno">   77</span>    <a class="code hl_enumvalue" href="#af93c4737aafa5967c62525b2db861bd5a36541b415ae5967751b3c72878f80aa8">CMD0</a> = 0,</div>
<div class="line"><span class="lineno">   78</span>    <a class="code hl_enumvalue" href="#af93c4737aafa5967c62525b2db861bd5a47ee3e681c20ff5c495493e77ca34368">CMD1</a> = 1,</div>
<div class="line"><span class="lineno">   79</span>    <a class="code hl_enumvalue" href="#af93c4737aafa5967c62525b2db861bd5a108117a364ab0acbb9f98c884a83d4de">CMD6</a> = 6,</div>
<div class="line"><span class="lineno">   80</span>    <a class="code hl_enumvalue" href="#af93c4737aafa5967c62525b2db861bd5a651ee13eedad94e8b3e08c5a666fb820">CMD8</a> = 8,</div>
<div class="line"><span class="lineno">   81</span>    <a class="code hl_enumvalue" href="#af93c4737aafa5967c62525b2db861bd5a4104f864a4e56683eecd7e14baead027">CMD9</a> = 9,</div>
<div class="line"><span class="lineno">   82</span>    <a class="code hl_enumvalue" href="#af93c4737aafa5967c62525b2db861bd5a18484c198b2d973707932d615e2e7362">CMD10</a> = 10,</div>
<div class="line"><span class="lineno">   83</span>    <a class="code hl_enumvalue" href="#af93c4737aafa5967c62525b2db861bd5ab3eb4943342fc8d4760b87ae97f8d259">CMD12</a> = 12,</div>
<div class="line"><span class="lineno">   84</span>    <a class="code hl_enumvalue" href="#af93c4737aafa5967c62525b2db861bd5adb3d8777afe922d38ef02e8dcfeb8420">CMD13</a> = 13,</div>
<div class="line"><span class="lineno">   85</span>    <a class="code hl_enumvalue" href="#af93c4737aafa5967c62525b2db861bd5aac87bb1842300e8cfb83fda7c72abcde">CMD16</a> = 16,</div>
<div class="line"><span class="lineno">   86</span>    <a class="code hl_enumvalue" href="#af93c4737aafa5967c62525b2db861bd5a95702a46b620fa7fd0c3a9393e81dae2">CMD17</a> = 17,</div>
<div class="line"><span class="lineno">   87</span>    <a class="code hl_enumvalue" href="#af93c4737aafa5967c62525b2db861bd5a6208383a5bd0425b4b2095449bb22196">CMD18</a> = 18,</div>
<div class="line"><span class="lineno">   88</span>    <a class="code hl_enumvalue" href="#af93c4737aafa5967c62525b2db861bd5a942069fd9af24fe9f27ac88c02bd4dc0">CMD24</a> = 24,</div>
<div class="line"><span class="lineno">   89</span>    <a class="code hl_enumvalue" href="#af93c4737aafa5967c62525b2db861bd5a102d8de2cd23f65f8be2c992fd3bfc29">CMD25</a> = 25,</div>
<div class="line"><span class="lineno">   90</span>    <a class="code hl_enumvalue" href="#af93c4737aafa5967c62525b2db861bd5a92b4e0176704b4f8f8936fc9b0c6ad63">CMD27</a> = 27,</div>
<div class="line"><span class="lineno">   91</span>    <a class="code hl_enumvalue" href="#af93c4737aafa5967c62525b2db861bd5a0b50c274986c491d4dbc30c7a3da1966">CMD28</a> = 28,</div>
<div class="line"><span class="lineno">   92</span>    <a class="code hl_enumvalue" href="#af93c4737aafa5967c62525b2db861bd5abba191301ca9cded3815c3b7f3d69371">CMD29</a> = 29,</div>
<div class="line"><span class="lineno">   93</span>    <a class="code hl_enumvalue" href="#af93c4737aafa5967c62525b2db861bd5a63cf7dbbdc07b9798eda00909eae58a9">CMD30</a> = 30,</div>
<div class="line"><span class="lineno">   94</span>    <a class="code hl_enumvalue" href="#af93c4737aafa5967c62525b2db861bd5af3c4af53adc6cf1f814a936fe515334e">CMD32</a> = 32,</div>
<div class="line"><span class="lineno">   95</span>    <a class="code hl_enumvalue" href="#af93c4737aafa5967c62525b2db861bd5a61970fcf2b514e2a3087f397536e81b5">CMD33</a> = 33,</div>
<div class="line"><span class="lineno">   96</span>    <a class="code hl_enumvalue" href="#af93c4737aafa5967c62525b2db861bd5a8295cc520ba543348e74d9cec38438d4">CMD38</a> = 38,</div>
<div class="line"><span class="lineno">   97</span>    <a class="code hl_enumvalue" href="#af93c4737aafa5967c62525b2db861bd5a07e56339baf8c13d18d81f5859a31baa">CMD42</a> = 42,</div>
<div class="line"><span class="lineno">   98</span>    <a class="code hl_enumvalue" href="#af93c4737aafa5967c62525b2db861bd5a36edfb2a83221c8c3a3ad0d84072200d">CMD55</a> = 55,</div>
<div class="line"><span class="lineno">   99</span>    <a class="code hl_enumvalue" href="#af93c4737aafa5967c62525b2db861bd5a8aa988b277f52c09fbaf39740f33867d">CMD56</a> = 56,</div>
<div class="line"><span class="lineno">  100</span>    <a class="code hl_enumvalue" href="#af93c4737aafa5967c62525b2db861bd5acb344739b2733fe7ef0c8f28a92896d1">CMD58</a> = 58,</div>
<div class="line"><span class="lineno">  101</span>    <a class="code hl_enumvalue" href="#af93c4737aafa5967c62525b2db861bd5a7aeecfde4608a4ae1b7afcb3d37349d8">CMD59</a> = 59,</div>
<div class="line"><span class="lineno">  102</span>    </div>
<div class="line"><span class="lineno">  103</span>    <span class="comment">// Actual names for commands</span></div>
<div class="line"><span class="lineno">  104</span>    <a class="code hl_enumvalue" href="#af93c4737aafa5967c62525b2db861bd5a6f824aa2a760266a6bb66287abfaf2df">GO_IDLE_STATE</a>           = <a class="code hl_enumvalue" href="#af93c4737aafa5967c62525b2db861bd5a36541b415ae5967751b3c72878f80aa8">CMD0</a>,</div>
<div class="line"><span class="lineno">  105</span>    <a class="code hl_enumvalue" href="#af93c4737aafa5967c62525b2db861bd5a07d91a17024637fc003cce13a0e58849">SEND_OP_COND</a>            = <a class="code hl_enumvalue" href="#af93c4737aafa5967c62525b2db861bd5a47ee3e681c20ff5c495493e77ca34368">CMD1</a>,</div>
<div class="line"><span class="lineno">  106</span>    <a class="code hl_enumvalue" href="#af93c4737aafa5967c62525b2db861bd5a5862474e029edce6895fd17571933822">SWITCH_FUNC</a>             = <a class="code hl_enumvalue" href="#af93c4737aafa5967c62525b2db861bd5a108117a364ab0acbb9f98c884a83d4de">CMD6</a>,</div>
<div class="line"><span class="lineno">  107</span>    <a class="code hl_enumvalue" href="#af93c4737aafa5967c62525b2db861bd5a54ea42ae5cc87fc72f0941e48828d34d">SEND_IF_COND</a>            = <a class="code hl_enumvalue" href="#af93c4737aafa5967c62525b2db861bd5a651ee13eedad94e8b3e08c5a666fb820">CMD8</a>,</div>
<div class="line"><span class="lineno">  108</span>    <a class="code hl_enumvalue" href="#af93c4737aafa5967c62525b2db861bd5a32550ff14785bd6e01de42951021c8ff">SEND_CSD</a>                = <a class="code hl_enumvalue" href="#af93c4737aafa5967c62525b2db861bd5a4104f864a4e56683eecd7e14baead027">CMD9</a>,</div>
<div class="line"><span class="lineno">  109</span>    <a class="code hl_enumvalue" href="#af93c4737aafa5967c62525b2db861bd5a1d6820714043c4791409620c718a74fb">SEND_CID</a>                = <a class="code hl_enumvalue" href="#af93c4737aafa5967c62525b2db861bd5a18484c198b2d973707932d615e2e7362">CMD10</a>,</div>
<div class="line"><span class="lineno">  110</span>    <a class="code hl_enumvalue" href="#af93c4737aafa5967c62525b2db861bd5a7d043a4f7c42bd6aeb8dfc7574127565">STOP_TRANSMISSION</a>       = <a class="code hl_enumvalue" href="#af93c4737aafa5967c62525b2db861bd5ab3eb4943342fc8d4760b87ae97f8d259">CMD12</a>,</div>
<div class="line"><span class="lineno">  111</span>    <a class="code hl_enumvalue" href="#af93c4737aafa5967c62525b2db861bd5ae88af817feffec91cec7143bd5a4cad5">SEND_STATUS</a>             = <a class="code hl_enumvalue" href="#af93c4737aafa5967c62525b2db861bd5adb3d8777afe922d38ef02e8dcfeb8420">CMD13</a>,</div>
<div class="line"><span class="lineno">  112</span>    <a class="code hl_enumvalue" href="#af93c4737aafa5967c62525b2db861bd5a3f01cc7b4d0989ccec9edeeb264513d8">SET_BLOCKLEN</a>            = <a class="code hl_enumvalue" href="#af93c4737aafa5967c62525b2db861bd5aac87bb1842300e8cfb83fda7c72abcde">CMD16</a>,</div>
<div class="line"><span class="lineno">  113</span>    <a class="code hl_enumvalue" href="#af93c4737aafa5967c62525b2db861bd5a981471a896d209c94bcb967e9eda2538">READ_SINGLE_BLOCK</a>       = <a class="code hl_enumvalue" href="#af93c4737aafa5967c62525b2db861bd5a95702a46b620fa7fd0c3a9393e81dae2">CMD17</a>,</div>
<div class="line"><span class="lineno">  114</span>    <a class="code hl_enumvalue" href="#af93c4737aafa5967c62525b2db861bd5aad30368720ac8926900f9479948a7f48">READ_MULTIPLE_BLOCK</a>     = <a class="code hl_enumvalue" href="#af93c4737aafa5967c62525b2db861bd5a6208383a5bd0425b4b2095449bb22196">CMD18</a>,</div>
<div class="line"><span class="lineno">  115</span>    <a class="code hl_enumvalue" href="#af93c4737aafa5967c62525b2db861bd5a577bfdd5ef3f3d9b50bdecbd7cf04b9e">WRITE_BLOCK</a>             = <a class="code hl_enumvalue" href="#af93c4737aafa5967c62525b2db861bd5a942069fd9af24fe9f27ac88c02bd4dc0">CMD24</a>,</div>
<div class="line"><span class="lineno">  116</span>    <a class="code hl_enumvalue" href="#af93c4737aafa5967c62525b2db861bd5a28f9f0c4e8d6e0d25e4c48aab4fc7b8b">WRITE_MULTIPLE_BLOCK</a>    = <a class="code hl_enumvalue" href="#af93c4737aafa5967c62525b2db861bd5a102d8de2cd23f65f8be2c992fd3bfc29">CMD25</a>,</div>
<div class="line"><span class="lineno">  117</span>    <a class="code hl_enumvalue" href="#af93c4737aafa5967c62525b2db861bd5ad08a859a9e416a9ad199e7a5ab5b9563">PROGRAM_CSD</a>             = <a class="code hl_enumvalue" href="#af93c4737aafa5967c62525b2db861bd5a92b4e0176704b4f8f8936fc9b0c6ad63">CMD27</a>,</div>
<div class="line"><span class="lineno">  118</span>    <a class="code hl_enumvalue" href="#af93c4737aafa5967c62525b2db861bd5a608c3c2839cdbfcb59a5471e5e738485">SET_WRITE_PROT</a>          = <a class="code hl_enumvalue" href="#af93c4737aafa5967c62525b2db861bd5a0b50c274986c491d4dbc30c7a3da1966">CMD28</a>,</div>
<div class="line"><span class="lineno">  119</span>    <a class="code hl_enumvalue" href="#af93c4737aafa5967c62525b2db861bd5ab16bb2db0dfd470936d304fa936db333">CLR_WRITE_PROT</a>          = <a class="code hl_enumvalue" href="#af93c4737aafa5967c62525b2db861bd5abba191301ca9cded3815c3b7f3d69371">CMD29</a>,</div>
<div class="line"><span class="lineno">  120</span>    <a class="code hl_enumvalue" href="#af93c4737aafa5967c62525b2db861bd5ad02b96ec3dceec611b68d602b190d29d">SEND_WRITE_PROT</a>         = <a class="code hl_enumvalue" href="#af93c4737aafa5967c62525b2db861bd5a63cf7dbbdc07b9798eda00909eae58a9">CMD30</a>,</div>
<div class="line"><span class="lineno">  121</span>    <a class="code hl_enumvalue" href="#af93c4737aafa5967c62525b2db861bd5acbcdcead4af7b991e8cc50d96da7627a">ERASE_WR_BLK_START_ADDR</a> = <a class="code hl_enumvalue" href="#af93c4737aafa5967c62525b2db861bd5af3c4af53adc6cf1f814a936fe515334e">CMD32</a>,</div>
<div class="line"><span class="lineno">  122</span>    <a class="code hl_enumvalue" href="#af93c4737aafa5967c62525b2db861bd5a0074cb30d79c5c61da8e9a4cdbc74730">ERASE_WR_BLK_END_ADDR</a>   = <a class="code hl_enumvalue" href="#af93c4737aafa5967c62525b2db861bd5a61970fcf2b514e2a3087f397536e81b5">CMD33</a>,</div>
<div class="line"><span class="lineno">  123</span>    <a class="code hl_enumvalue" href="#af93c4737aafa5967c62525b2db861bd5a33da92285188399f32dced50082643a2">ERASE</a>                   = <a class="code hl_enumvalue" href="#af93c4737aafa5967c62525b2db861bd5a8295cc520ba543348e74d9cec38438d4">CMD38</a>,</div>
<div class="line"><span class="lineno">  124</span>    <a class="code hl_enumvalue" href="#af93c4737aafa5967c62525b2db861bd5a33a3402e588be6c7abed413c6cbc9605">LOCK_UNLOCK</a>             = <a class="code hl_enumvalue" href="#af93c4737aafa5967c62525b2db861bd5a07e56339baf8c13d18d81f5859a31baa">CMD42</a>,</div>
<div class="line"><span class="lineno">  125</span>    <a class="code hl_enumvalue" href="#af93c4737aafa5967c62525b2db861bd5ab1f86f7ebbfab11df1eb34efbaa06205">APP_CMD</a>                 = <a class="code hl_enumvalue" href="#af93c4737aafa5967c62525b2db861bd5a36edfb2a83221c8c3a3ad0d84072200d">CMD55</a>,</div>
<div class="line"><span class="lineno">  126</span>    <a class="code hl_enumvalue" href="#af93c4737aafa5967c62525b2db861bd5ab5aabb906a4d06498b5a5903d84335cd">GEN_CMD</a>                 = <a class="code hl_enumvalue" href="#af93c4737aafa5967c62525b2db861bd5a8aa988b277f52c09fbaf39740f33867d">CMD56</a>,</div>
<div class="line"><span class="lineno">  127</span>    <a class="code hl_enumvalue" href="#af93c4737aafa5967c62525b2db861bd5a4bc59666fe5dfd64bd4b1ef6f9fea31a">READ_OCR</a>                = <a class="code hl_enumvalue" href="#af93c4737aafa5967c62525b2db861bd5acb344739b2733fe7ef0c8f28a92896d1">CMD58</a>,</div>
<div class="line"><span class="lineno">  128</span>    <a class="code hl_enumvalue" href="#af93c4737aafa5967c62525b2db861bd5a3b33578f9d7eec47f767284c51165ed2">CRC_ON_OFF</a>              = <a class="code hl_enumvalue" href="#af93c4737aafa5967c62525b2db861bd5a7aeecfde4608a4ae1b7afcb3d37349d8">CMD59</a></div>
<div class="line"><span class="lineno">  129</span>} <a class="code hl_enumeration" href="#af93c4737aafa5967c62525b2db861bd5">LibsdSpiDefinedCommandId</a>;</div>
<div class="ttc" id="alibsd_8h_html_af93c4737aafa5967c62525b2db861bd5"><div class="ttname"><a href="#af93c4737aafa5967c62525b2db861bd5">LibsdSpiDefinedCommandId</a></div><div class="ttdeci">LibsdSpiDefinedCommandId</div><div class="ttdoc">Enumeration of all SD card commands predefined by standard.</div><div class="ttdef"><b>Definition</b> libsd.h:75</div></div>
<div class="ttc" id="alibsd_8h_html_af93c4737aafa5967c62525b2db861bd5a0074cb30d79c5c61da8e9a4cdbc74730"><div class="ttname"><a href="#af93c4737aafa5967c62525b2db861bd5a0074cb30d79c5c61da8e9a4cdbc74730">ERASE_WR_BLK_END_ADDR</a></div><div class="ttdeci">@ ERASE_WR_BLK_END_ADDR</div><div class="ttdef"><b>Definition</b> libsd.h:122</div></div>
<div class="ttc" id="alibsd_8h_html_af93c4737aafa5967c62525b2db861bd5a07d91a17024637fc003cce13a0e58849"><div class="ttname"><a href="#af93c4737aafa5967c62525b2db861bd5a07d91a17024637fc003cce13a0e58849">SEND_OP_COND</a></div><div class="ttdeci">@ SEND_OP_COND</div><div class="ttdef"><b>Definition</b> libsd.h:105</div></div>
<div class="ttc" id="alibsd_8h_html_af93c4737aafa5967c62525b2db861bd5a07e56339baf8c13d18d81f5859a31baa"><div class="ttname"><a href="#af93c4737aafa5967c62525b2db861bd5a07e56339baf8c13d18d81f5859a31baa">CMD42</a></div><div class="ttdeci">@ CMD42</div><div class="ttdef"><b>Definition</b> libsd.h:97</div></div>
<div class="ttc" id="alibsd_8h_html_af93c4737aafa5967c62525b2db861bd5a0b50c274986c491d4dbc30c7a3da1966"><div class="ttname"><a href="#af93c4737aafa5967c62525b2db861bd5a0b50c274986c491d4dbc30c7a3da1966">CMD28</a></div><div class="ttdeci">@ CMD28</div><div class="ttdef"><b>Definition</b> libsd.h:91</div></div>
<div class="ttc" id="alibsd_8h_html_af93c4737aafa5967c62525b2db861bd5a102d8de2cd23f65f8be2c992fd3bfc29"><div class="ttname"><a href="#af93c4737aafa5967c62525b2db861bd5a102d8de2cd23f65f8be2c992fd3bfc29">CMD25</a></div><div class="ttdeci">@ CMD25</div><div class="ttdef"><b>Definition</b> libsd.h:89</div></div>
<div class="ttc" id="alibsd_8h_html_af93c4737aafa5967c62525b2db861bd5a108117a364ab0acbb9f98c884a83d4de"><div class="ttname"><a href="#af93c4737aafa5967c62525b2db861bd5a108117a364ab0acbb9f98c884a83d4de">CMD6</a></div><div class="ttdeci">@ CMD6</div><div class="ttdef"><b>Definition</b> libsd.h:79</div></div>
<div class="ttc" id="alibsd_8h_html_af93c4737aafa5967c62525b2db861bd5a18484c198b2d973707932d615e2e7362"><div class="ttname"><a href="#af93c4737aafa5967c62525b2db861bd5a18484c198b2d973707932d615e2e7362">CMD10</a></div><div class="ttdeci">@ CMD10</div><div class="ttdef"><b>Definition</b> libsd.h:82</div></div>
<div class="ttc" id="alibsd_8h_html_af93c4737aafa5967c62525b2db861bd5a1d6820714043c4791409620c718a74fb"><div class="ttname"><a href="#af93c4737aafa5967c62525b2db861bd5a1d6820714043c4791409620c718a74fb">SEND_CID</a></div><div class="ttdeci">@ SEND_CID</div><div class="ttdef"><b>Definition</b> libsd.h:109</div></div>
<div class="ttc" id="alibsd_8h_html_af93c4737aafa5967c62525b2db861bd5a28f9f0c4e8d6e0d25e4c48aab4fc7b8b"><div class="ttname"><a href="#af93c4737aafa5967c62525b2db861bd5a28f9f0c4e8d6e0d25e4c48aab4fc7b8b">WRITE_MULTIPLE_BLOCK</a></div><div class="ttdeci">@ WRITE_MULTIPLE_BLOCK</div><div class="ttdef"><b>Definition</b> libsd.h:116</div></div>
<div class="ttc" id="alibsd_8h_html_af93c4737aafa5967c62525b2db861bd5a32550ff14785bd6e01de42951021c8ff"><div class="ttname"><a href="#af93c4737aafa5967c62525b2db861bd5a32550ff14785bd6e01de42951021c8ff">SEND_CSD</a></div><div class="ttdeci">@ SEND_CSD</div><div class="ttdef"><b>Definition</b> libsd.h:108</div></div>
<div class="ttc" id="alibsd_8h_html_af93c4737aafa5967c62525b2db861bd5a33a3402e588be6c7abed413c6cbc9605"><div class="ttname"><a href="#af93c4737aafa5967c62525b2db861bd5a33a3402e588be6c7abed413c6cbc9605">LOCK_UNLOCK</a></div><div class="ttdeci">@ LOCK_UNLOCK</div><div class="ttdef"><b>Definition</b> libsd.h:124</div></div>
<div class="ttc" id="alibsd_8h_html_af93c4737aafa5967c62525b2db861bd5a33da92285188399f32dced50082643a2"><div class="ttname"><a href="#af93c4737aafa5967c62525b2db861bd5a33da92285188399f32dced50082643a2">ERASE</a></div><div class="ttdeci">@ ERASE</div><div class="ttdef"><b>Definition</b> libsd.h:123</div></div>
<div class="ttc" id="alibsd_8h_html_af93c4737aafa5967c62525b2db861bd5a36541b415ae5967751b3c72878f80aa8"><div class="ttname"><a href="#af93c4737aafa5967c62525b2db861bd5a36541b415ae5967751b3c72878f80aa8">CMD0</a></div><div class="ttdeci">@ CMD0</div><div class="ttdef"><b>Definition</b> libsd.h:77</div></div>
<div class="ttc" id="alibsd_8h_html_af93c4737aafa5967c62525b2db861bd5a36edfb2a83221c8c3a3ad0d84072200d"><div class="ttname"><a href="#af93c4737aafa5967c62525b2db861bd5a36edfb2a83221c8c3a3ad0d84072200d">CMD55</a></div><div class="ttdeci">@ CMD55</div><div class="ttdef"><b>Definition</b> libsd.h:98</div></div>
<div class="ttc" id="alibsd_8h_html_af93c4737aafa5967c62525b2db861bd5a3b33578f9d7eec47f767284c51165ed2"><div class="ttname"><a href="#af93c4737aafa5967c62525b2db861bd5a3b33578f9d7eec47f767284c51165ed2">CRC_ON_OFF</a></div><div class="ttdeci">@ CRC_ON_OFF</div><div class="ttdef"><b>Definition</b> libsd.h:128</div></div>
<div class="ttc" id="alibsd_8h_html_af93c4737aafa5967c62525b2db861bd5a3f01cc7b4d0989ccec9edeeb264513d8"><div class="ttname"><a href="#af93c4737aafa5967c62525b2db861bd5a3f01cc7b4d0989ccec9edeeb264513d8">SET_BLOCKLEN</a></div><div class="ttdeci">@ SET_BLOCKLEN</div><div class="ttdef"><b>Definition</b> libsd.h:112</div></div>
<div class="ttc" id="alibsd_8h_html_af93c4737aafa5967c62525b2db861bd5a4104f864a4e56683eecd7e14baead027"><div class="ttname"><a href="#af93c4737aafa5967c62525b2db861bd5a4104f864a4e56683eecd7e14baead027">CMD9</a></div><div class="ttdeci">@ CMD9</div><div class="ttdef"><b>Definition</b> libsd.h:81</div></div>
<div class="ttc" id="alibsd_8h_html_af93c4737aafa5967c62525b2db861bd5a47ee3e681c20ff5c495493e77ca34368"><div class="ttname"><a href="#af93c4737aafa5967c62525b2db861bd5a47ee3e681c20ff5c495493e77ca34368">CMD1</a></div><div class="ttdeci">@ CMD1</div><div class="ttdef"><b>Definition</b> libsd.h:78</div></div>
<div class="ttc" id="alibsd_8h_html_af93c4737aafa5967c62525b2db861bd5a4bc59666fe5dfd64bd4b1ef6f9fea31a"><div class="ttname"><a href="#af93c4737aafa5967c62525b2db861bd5a4bc59666fe5dfd64bd4b1ef6f9fea31a">READ_OCR</a></div><div class="ttdeci">@ READ_OCR</div><div class="ttdef"><b>Definition</b> libsd.h:127</div></div>
<div class="ttc" id="alibsd_8h_html_af93c4737aafa5967c62525b2db861bd5a54ea42ae5cc87fc72f0941e48828d34d"><div class="ttname"><a href="#af93c4737aafa5967c62525b2db861bd5a54ea42ae5cc87fc72f0941e48828d34d">SEND_IF_COND</a></div><div class="ttdeci">@ SEND_IF_COND</div><div class="ttdef"><b>Definition</b> libsd.h:107</div></div>
<div class="ttc" id="alibsd_8h_html_af93c4737aafa5967c62525b2db861bd5a577bfdd5ef3f3d9b50bdecbd7cf04b9e"><div class="ttname"><a href="#af93c4737aafa5967c62525b2db861bd5a577bfdd5ef3f3d9b50bdecbd7cf04b9e">WRITE_BLOCK</a></div><div class="ttdeci">@ WRITE_BLOCK</div><div class="ttdef"><b>Definition</b> libsd.h:115</div></div>
<div class="ttc" id="alibsd_8h_html_af93c4737aafa5967c62525b2db861bd5a5862474e029edce6895fd17571933822"><div class="ttname"><a href="#af93c4737aafa5967c62525b2db861bd5a5862474e029edce6895fd17571933822">SWITCH_FUNC</a></div><div class="ttdeci">@ SWITCH_FUNC</div><div class="ttdef"><b>Definition</b> libsd.h:106</div></div>
<div class="ttc" id="alibsd_8h_html_af93c4737aafa5967c62525b2db861bd5a608c3c2839cdbfcb59a5471e5e738485"><div class="ttname"><a href="#af93c4737aafa5967c62525b2db861bd5a608c3c2839cdbfcb59a5471e5e738485">SET_WRITE_PROT</a></div><div class="ttdeci">@ SET_WRITE_PROT</div><div class="ttdef"><b>Definition</b> libsd.h:118</div></div>
<div class="ttc" id="alibsd_8h_html_af93c4737aafa5967c62525b2db861bd5a61970fcf2b514e2a3087f397536e81b5"><div class="ttname"><a href="#af93c4737aafa5967c62525b2db861bd5a61970fcf2b514e2a3087f397536e81b5">CMD33</a></div><div class="ttdeci">@ CMD33</div><div class="ttdef"><b>Definition</b> libsd.h:95</div></div>
<div class="ttc" id="alibsd_8h_html_af93c4737aafa5967c62525b2db861bd5a6208383a5bd0425b4b2095449bb22196"><div class="ttname"><a href="#af93c4737aafa5967c62525b2db861bd5a6208383a5bd0425b4b2095449bb22196">CMD18</a></div><div class="ttdeci">@ CMD18</div><div class="ttdef"><b>Definition</b> libsd.h:87</div></div>
<div class="ttc" id="alibsd_8h_html_af93c4737aafa5967c62525b2db861bd5a63cf7dbbdc07b9798eda00909eae58a9"><div class="ttname"><a href="#af93c4737aafa5967c62525b2db861bd5a63cf7dbbdc07b9798eda00909eae58a9">CMD30</a></div><div class="ttdeci">@ CMD30</div><div class="ttdef"><b>Definition</b> libsd.h:93</div></div>
<div class="ttc" id="alibsd_8h_html_af93c4737aafa5967c62525b2db861bd5a651ee13eedad94e8b3e08c5a666fb820"><div class="ttname"><a href="#af93c4737aafa5967c62525b2db861bd5a651ee13eedad94e8b3e08c5a666fb820">CMD8</a></div><div class="ttdeci">@ CMD8</div><div class="ttdef"><b>Definition</b> libsd.h:80</div></div>
<div class="ttc" id="alibsd_8h_html_af93c4737aafa5967c62525b2db861bd5a6f824aa2a760266a6bb66287abfaf2df"><div class="ttname"><a href="#af93c4737aafa5967c62525b2db861bd5a6f824aa2a760266a6bb66287abfaf2df">GO_IDLE_STATE</a></div><div class="ttdeci">@ GO_IDLE_STATE</div><div class="ttdef"><b>Definition</b> libsd.h:104</div></div>
<div class="ttc" id="alibsd_8h_html_af93c4737aafa5967c62525b2db861bd5a7aeecfde4608a4ae1b7afcb3d37349d8"><div class="ttname"><a href="#af93c4737aafa5967c62525b2db861bd5a7aeecfde4608a4ae1b7afcb3d37349d8">CMD59</a></div><div class="ttdeci">@ CMD59</div><div class="ttdef"><b>Definition</b> libsd.h:101</div></div>
<div class="ttc" id="alibsd_8h_html_af93c4737aafa5967c62525b2db861bd5a7d043a4f7c42bd6aeb8dfc7574127565"><div class="ttname"><a href="#af93c4737aafa5967c62525b2db861bd5a7d043a4f7c42bd6aeb8dfc7574127565">STOP_TRANSMISSION</a></div><div class="ttdeci">@ STOP_TRANSMISSION</div><div class="ttdef"><b>Definition</b> libsd.h:110</div></div>
<div class="ttc" id="alibsd_8h_html_af93c4737aafa5967c62525b2db861bd5a8295cc520ba543348e74d9cec38438d4"><div class="ttname"><a href="#af93c4737aafa5967c62525b2db861bd5a8295cc520ba543348e74d9cec38438d4">CMD38</a></div><div class="ttdeci">@ CMD38</div><div class="ttdef"><b>Definition</b> libsd.h:96</div></div>
<div class="ttc" id="alibsd_8h_html_af93c4737aafa5967c62525b2db861bd5a8aa988b277f52c09fbaf39740f33867d"><div class="ttname"><a href="#af93c4737aafa5967c62525b2db861bd5a8aa988b277f52c09fbaf39740f33867d">CMD56</a></div><div class="ttdeci">@ CMD56</div><div class="ttdef"><b>Definition</b> libsd.h:99</div></div>
<div class="ttc" id="alibsd_8h_html_af93c4737aafa5967c62525b2db861bd5a92b4e0176704b4f8f8936fc9b0c6ad63"><div class="ttname"><a href="#af93c4737aafa5967c62525b2db861bd5a92b4e0176704b4f8f8936fc9b0c6ad63">CMD27</a></div><div class="ttdeci">@ CMD27</div><div class="ttdef"><b>Definition</b> libsd.h:90</div></div>
<div class="ttc" id="alibsd_8h_html_af93c4737aafa5967c62525b2db861bd5a942069fd9af24fe9f27ac88c02bd4dc0"><div class="ttname"><a href="#af93c4737aafa5967c62525b2db861bd5a942069fd9af24fe9f27ac88c02bd4dc0">CMD24</a></div><div class="ttdeci">@ CMD24</div><div class="ttdef"><b>Definition</b> libsd.h:88</div></div>
<div class="ttc" id="alibsd_8h_html_af93c4737aafa5967c62525b2db861bd5a95702a46b620fa7fd0c3a9393e81dae2"><div class="ttname"><a href="#af93c4737aafa5967c62525b2db861bd5a95702a46b620fa7fd0c3a9393e81dae2">CMD17</a></div><div class="ttdeci">@ CMD17</div><div class="ttdef"><b>Definition</b> libsd.h:86</div></div>
<div class="ttc" id="alibsd_8h_html_af93c4737aafa5967c62525b2db861bd5a981471a896d209c94bcb967e9eda2538"><div class="ttname"><a href="#af93c4737aafa5967c62525b2db861bd5a981471a896d209c94bcb967e9eda2538">READ_SINGLE_BLOCK</a></div><div class="ttdeci">@ READ_SINGLE_BLOCK</div><div class="ttdef"><b>Definition</b> libsd.h:113</div></div>
<div class="ttc" id="alibsd_8h_html_af93c4737aafa5967c62525b2db861bd5aac87bb1842300e8cfb83fda7c72abcde"><div class="ttname"><a href="#af93c4737aafa5967c62525b2db861bd5aac87bb1842300e8cfb83fda7c72abcde">CMD16</a></div><div class="ttdeci">@ CMD16</div><div class="ttdef"><b>Definition</b> libsd.h:85</div></div>
<div class="ttc" id="alibsd_8h_html_af93c4737aafa5967c62525b2db861bd5aad30368720ac8926900f9479948a7f48"><div class="ttname"><a href="#af93c4737aafa5967c62525b2db861bd5aad30368720ac8926900f9479948a7f48">READ_MULTIPLE_BLOCK</a></div><div class="ttdeci">@ READ_MULTIPLE_BLOCK</div><div class="ttdef"><b>Definition</b> libsd.h:114</div></div>
<div class="ttc" id="alibsd_8h_html_af93c4737aafa5967c62525b2db861bd5ab16bb2db0dfd470936d304fa936db333"><div class="ttname"><a href="#af93c4737aafa5967c62525b2db861bd5ab16bb2db0dfd470936d304fa936db333">CLR_WRITE_PROT</a></div><div class="ttdeci">@ CLR_WRITE_PROT</div><div class="ttdef"><b>Definition</b> libsd.h:119</div></div>
<div class="ttc" id="alibsd_8h_html_af93c4737aafa5967c62525b2db861bd5ab1f86f7ebbfab11df1eb34efbaa06205"><div class="ttname"><a href="#af93c4737aafa5967c62525b2db861bd5ab1f86f7ebbfab11df1eb34efbaa06205">APP_CMD</a></div><div class="ttdeci">@ APP_CMD</div><div class="ttdef"><b>Definition</b> libsd.h:125</div></div>
<div class="ttc" id="alibsd_8h_html_af93c4737aafa5967c62525b2db861bd5ab3eb4943342fc8d4760b87ae97f8d259"><div class="ttname"><a href="#af93c4737aafa5967c62525b2db861bd5ab3eb4943342fc8d4760b87ae97f8d259">CMD12</a></div><div class="ttdeci">@ CMD12</div><div class="ttdef"><b>Definition</b> libsd.h:83</div></div>
<div class="ttc" id="alibsd_8h_html_af93c4737aafa5967c62525b2db861bd5ab5aabb906a4d06498b5a5903d84335cd"><div class="ttname"><a href="#af93c4737aafa5967c62525b2db861bd5ab5aabb906a4d06498b5a5903d84335cd">GEN_CMD</a></div><div class="ttdeci">@ GEN_CMD</div><div class="ttdef"><b>Definition</b> libsd.h:126</div></div>
<div class="ttc" id="alibsd_8h_html_af93c4737aafa5967c62525b2db861bd5abba191301ca9cded3815c3b7f3d69371"><div class="ttname"><a href="#af93c4737aafa5967c62525b2db861bd5abba191301ca9cded3815c3b7f3d69371">CMD29</a></div><div class="ttdeci">@ CMD29</div><div class="ttdef"><b>Definition</b> libsd.h:92</div></div>
<div class="ttc" id="alibsd_8h_html_af93c4737aafa5967c62525b2db861bd5acb344739b2733fe7ef0c8f28a92896d1"><div class="ttname"><a href="#af93c4737aafa5967c62525b2db861bd5acb344739b2733fe7ef0c8f28a92896d1">CMD58</a></div><div class="ttdeci">@ CMD58</div><div class="ttdef"><b>Definition</b> libsd.h:100</div></div>
<div class="ttc" id="alibsd_8h_html_af93c4737aafa5967c62525b2db861bd5acbcdcead4af7b991e8cc50d96da7627a"><div class="ttname"><a href="#af93c4737aafa5967c62525b2db861bd5acbcdcead4af7b991e8cc50d96da7627a">ERASE_WR_BLK_START_ADDR</a></div><div class="ttdeci">@ ERASE_WR_BLK_START_ADDR</div><div class="ttdef"><b>Definition</b> libsd.h:121</div></div>
<div class="ttc" id="alibsd_8h_html_af93c4737aafa5967c62525b2db861bd5ad02b96ec3dceec611b68d602b190d29d"><div class="ttname"><a href="#af93c4737aafa5967c62525b2db861bd5ad02b96ec3dceec611b68d602b190d29d">SEND_WRITE_PROT</a></div><div class="ttdeci">@ SEND_WRITE_PROT</div><div class="ttdef"><b>Definition</b> libsd.h:120</div></div>
<div class="ttc" id="alibsd_8h_html_af93c4737aafa5967c62525b2db861bd5ad08a859a9e416a9ad199e7a5ab5b9563"><div class="ttname"><a href="#af93c4737aafa5967c62525b2db861bd5ad08a859a9e416a9ad199e7a5ab5b9563">PROGRAM_CSD</a></div><div class="ttdeci">@ PROGRAM_CSD</div><div class="ttdef"><b>Definition</b> libsd.h:117</div></div>
<div class="ttc" id="alibsd_8h_html_af93c4737aafa5967c62525b2db861bd5adb3d8777afe922d38ef02e8dcfeb8420"><div class="ttname"><a href="#af93c4737aafa5967c62525b2db861bd5adb3d8777afe922d38ef02e8dcfeb8420">CMD13</a></div><div class="ttdeci">@ CMD13</div><div class="ttdef"><b>Definition</b> libsd.h:84</div></div>
<div class="ttc" id="alibsd_8h_html_af93c4737aafa5967c62525b2db861bd5ae88af817feffec91cec7143bd5a4cad5"><div class="ttname"><a href="#af93c4737aafa5967c62525b2db861bd5ae88af817feffec91cec7143bd5a4cad5">SEND_STATUS</a></div><div class="ttdeci">@ SEND_STATUS</div><div class="ttdef"><b>Definition</b> libsd.h:111</div></div>
<div class="ttc" id="alibsd_8h_html_af93c4737aafa5967c62525b2db861bd5af3c4af53adc6cf1f814a936fe515334e"><div class="ttname"><a href="#af93c4737aafa5967c62525b2db861bd5af3c4af53adc6cf1f814a936fe515334e">CMD32</a></div><div class="ttdeci">@ CMD32</div><div class="ttdef"><b>Definition</b> libsd.h:94</div></div>
</div><!-- fragment -->
</div>
</div>
<a name="doc-func-members" id="doc-func-members"></a><h2 id="header-doc-func-members" class="groupheader">Function Documentation</h2>
<a id="af3cbbaf29e03d8980ad91628e8e4eabc" name="af3cbbaf29e03d8980ad91628e8e4eabc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af3cbbaf29e03d8980ad91628e8e4eabc">&#9670;&#160;</a></span>libsd_card_init()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="#a35e9ef4fba3790348b74b5f1bb30e295">LibsdReturnStatus</a> libsd_card_init </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_libsd_card.html">LibsdCard</a> *</td>          <td class="paramname"><span class="paramname"><em>card</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initialize an SD card using the values in a struct. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">card</td><td>Pointer to <a class="el" href="struct_libsd_card.html" title="Struct with information for SD card.">LibsdCard</a> struct for the card </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>LIBSD_OK on success, LIBSD_INIT_FAILED on failure </dd></dl>
<div class="fragment"><div class="line"><span class="lineno">   27</span>                                                   {</div>
<div class="line"><span class="lineno">   28</span>    <span class="comment">// disable the SPI interface&#39;s chip select</span></div>
<div class="line"><span class="lineno">   29</span>    <a class="code hl_function" href="spi_8c.html#a4ed3b4d490b8cd00f3f94bce8108c7e6">libsd_spi_cs_disable</a>(card-&gt;<a class="code hl_variable" href="struct_libsd_card.html#aaddc55f0f0f4a8fed892f97bab788654">spi</a>);</div>
<div class="line"><span class="lineno">   30</span> </div>
<div class="line"><span class="lineno">   31</span>    <span class="comment">// SD cards need 80 clock cycles to complete their initialization routing</span></div>
<div class="line"><span class="lineno">   32</span>    <span class="comment">// write 10 bytes of 0 with chip select disabled to do this</span></div>
<div class="line"><span class="lineno">   33</span>    <span class="keywordflow">for</span>(<span class="keywordtype">int</span> i = 0; i &lt; 10; i++) {</div>
<div class="line"><span class="lineno">   34</span>        <a class="code hl_function" href="spi_8c.html#abaaf34c5db811c379c8dfd332d58378c">libsd_spi_write_byte</a>(card-&gt;<a class="code hl_variable" href="struct_libsd_card.html#aaddc55f0f0f4a8fed892f97bab788654">spi</a>, 0xFF);</div>
<div class="line"><span class="lineno">   35</span>    }</div>
<div class="line"><span class="lineno">   36</span> </div>
<div class="line"><span class="lineno">   37</span>    <span class="comment">// reenable chip select to begin initialization</span></div>
<div class="line"><span class="lineno">   38</span>    <a class="code hl_function" href="spi_8c.html#afb0c85bb0321d4f28211ed128795b773">libsd_spi_cs_enable</a>(card-&gt;<a class="code hl_variable" href="struct_libsd_card.html#aaddc55f0f0f4a8fed892f97bab788654">spi</a>);</div>
<div class="line"><span class="lineno">   39</span> </div>
<div class="line"><span class="lineno">   40</span>    <span class="comment">// status returned from commands</span></div>
<div class="line"><span class="lineno">   41</span>    <a class="code hl_enumeration" href="#a35e9ef4fba3790348b74b5f1bb30e295">LibsdReturnStatus</a> status;</div>
<div class="line"><span class="lineno">   42</span> </div>
<div class="line"><span class="lineno">   43</span>    <span class="comment">// return from commands</span></div>
<div class="line"><span class="lineno">   44</span>    <a class="code hl_union" href="union_libsd_spi_command_response.html">LibsdSpiCommandResponse</a> resp;</div>
<div class="line"><span class="lineno">   45</span> </div>
<div class="line"><span class="lineno">   46</span>    <span class="comment">// struct for predefined commands to send</span></div>
<div class="line"><span class="lineno">   47</span>    <a class="code hl_struct" href="struct_libsd_spi_defined_command.html">LibsdSpiDefinedCommand</a> cmd;</div>
<div class="line"><span class="lineno">   48</span> </div>
<div class="line"><span class="lineno">   49</span>    <span class="comment">// first command is GO_IDLE_STATE (CMD0)</span></div>
<div class="line"><span class="lineno">   50</span>    cmd.<a class="code hl_variable" href="struct_libsd_spi_defined_command.html#ad1b9abc95a1720e7595220cc366e8ab4">id</a> = <a class="code hl_enumvalue" href="#af93c4737aafa5967c62525b2db861bd5a6f824aa2a760266a6bb66287abfaf2df">GO_IDLE_STATE</a>;</div>
<div class="line"><span class="lineno">   51</span>    cmd.<a class="code hl_variable" href="struct_libsd_spi_defined_command.html#afcc3013cf1654bce15b5bc0beb4f7129">arg</a> = 0;</div>
<div class="line"><span class="lineno">   52</span>    status = <a class="code hl_function" href="libsd_8c.html#ab0298722c83047fc1c9b40c1d5845c00">libsd_card_send_defined_command</a>(card, &amp;cmd, &amp;resp);</div>
<div class="line"><span class="lineno">   53</span>    <span class="keywordflow">if</span>(status != <a class="code hl_enumvalue" href="#a35e9ef4fba3790348b74b5f1bb30e295aa290c988d692cfa633e720113b73990f">LIBSD_OK</a> || resp.<a class="code hl_variable" href="union_libsd_spi_command_response.html#a7fbe9577c9bfbbb3d80990df2d213c2d">resp_r1</a>.<a class="code hl_variable" href="struct_libsd_spi_command_response_r1.html#abbf035f40ee8c3f20d6bd8c0e5c959c2">resp</a> != 0x01) {</div>
<div class="line"><span class="lineno">   54</span>        <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="#a35e9ef4fba3790348b74b5f1bb30e295a985ce5a0dd999b7ba42c3739706ce911">LIBSD_INIT_FAILED</a>;</div>
<div class="line"><span class="lineno">   55</span>    }</div>
<div class="line"><span class="lineno">   56</span> </div>
<div class="line"><span class="lineno">   57</span>    <span class="comment">// next command asks the SD card what voltages it supports</span></div>
<div class="line"><span class="lineno">   58</span>    <span class="comment">// according to an online source this is mandatory, despite seeming optional</span></div>
<div class="line"><span class="lineno">   59</span>    cmd.<a class="code hl_variable" href="struct_libsd_spi_defined_command.html#ad1b9abc95a1720e7595220cc366e8ab4">id</a> = <a class="code hl_enumvalue" href="#af93c4737aafa5967c62525b2db861bd5a54ea42ae5cc87fc72f0941e48828d34d">SEND_IF_COND</a>;</div>
<div class="line"><span class="lineno">   60</span>    cmd.<a class="code hl_variable" href="struct_libsd_spi_defined_command.html#afcc3013cf1654bce15b5bc0beb4f7129">arg</a> = 0x1AA;</div>
<div class="line"><span class="lineno">   61</span>    status = <a class="code hl_function" href="libsd_8c.html#ab0298722c83047fc1c9b40c1d5845c00">libsd_card_send_defined_command</a>(card, &amp;cmd, &amp;resp);</div>
<div class="line"><span class="lineno">   62</span>    <span class="keywordflow">if</span>(status != <a class="code hl_enumvalue" href="#a35e9ef4fba3790348b74b5f1bb30e295aa290c988d692cfa633e720113b73990f">LIBSD_OK</a> || resp.<a class="code hl_variable" href="union_libsd_spi_command_response.html#a0a9bb20080821a17ecb48366bc9ced45">resp_r7</a>.<a class="code hl_variable" href="struct_libsd_spi_command_response_r7.html#a487b4aac9e460bb8d17dea87c03b173f">resp</a> != 0x01) {</div>
<div class="line"><span class="lineno">   63</span>        <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="#a35e9ef4fba3790348b74b5f1bb30e295a985ce5a0dd999b7ba42c3739706ce911">LIBSD_INIT_FAILED</a>;</div>
<div class="line"><span class="lineno">   64</span>    }</div>
<div class="line"><span class="lineno">   65</span> </div>
<div class="line"><span class="lineno">   66</span>    <span class="comment">// next command is ACMD41 which sets up for high capacity - most modern cards</span></div>
<div class="line"><span class="lineno">   67</span>    <a class="code hl_struct" href="struct_libsd_spi_application_command.html">LibsdSpiApplicationCommand</a> acmd;</div>
<div class="line"><span class="lineno">   68</span>    acmd.<a class="code hl_variable" href="struct_libsd_spi_application_command.html#ad7e9efd0deb50d3b31a33d92d05f5d3b">id</a> = <a class="code hl_enumvalue" href="#a859ce15161dc89b1f06a323a82d82f37af53642a5b99dbca8a7bdf0135cdc5e77">SD_SEND_OP_COND</a>;</div>
<div class="line"><span class="lineno">   69</span>    acmd.<a class="code hl_variable" href="struct_libsd_spi_application_command.html#a05ef0db87c7c10d93b12f281d368be8a">arg</a> = 0x40000000;</div>
<div class="line"><span class="lineno">   70</span>    <span class="keywordflow">do</span> {</div>
<div class="line"><span class="lineno">   71</span>        status = <a class="code hl_function" href="libsd_8c.html#aa9c46209a3939d308325a0ab7a2010b6">libsd_card_send_application_command</a>(card, &amp;acmd, &amp;resp);</div>
<div class="line"><span class="lineno">   72</span>    } <span class="keywordflow">while</span>(resp.<a class="code hl_variable" href="union_libsd_spi_command_response.html#a7fbe9577c9bfbbb3d80990df2d213c2d">resp_r1</a>.<a class="code hl_variable" href="struct_libsd_spi_command_response_r1.html#abbf035f40ee8c3f20d6bd8c0e5c959c2">resp</a> == 0x01 &amp;&amp; status == <a class="code hl_enumvalue" href="#a35e9ef4fba3790348b74b5f1bb30e295aa290c988d692cfa633e720113b73990f">LIBSD_OK</a>);</div>
<div class="line"><span class="lineno">   73</span> </div>
<div class="line"><span class="lineno">   74</span>    <span class="keywordflow">if</span>(status != <a class="code hl_enumvalue" href="#a35e9ef4fba3790348b74b5f1bb30e295aa290c988d692cfa633e720113b73990f">LIBSD_OK</a>) {</div>
<div class="line"><span class="lineno">   75</span>        <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="#a35e9ef4fba3790348b74b5f1bb30e295a985ce5a0dd999b7ba42c3739706ce911">LIBSD_INIT_FAILED</a>;</div>
<div class="line"><span class="lineno">   76</span>    }</div>
<div class="line"><span class="lineno">   77</span> </div>
<div class="line"><span class="lineno">   78</span>    <span class="comment">// multiple things can happen here</span></div>
<div class="line"><span class="lineno">   79</span>    <span class="comment">// if the response is 0x01, the card is initializing and we need to wait</span></div>
<div class="line"><span class="lineno">   80</span>    <span class="comment">// resend the command</span></div>
<div class="line"><span class="lineno">   81</span>    <span class="comment">// if the response is 0x05, the card is older and uses CMD1 for initialization</span></div>
<div class="line"><span class="lineno">   82</span>    <span class="comment">// TODO - timeout for initialization to avoid infinite loop</span></div>
<div class="line"><span class="lineno">   83</span>    <span class="keywordflow">if</span>(resp.<a class="code hl_variable" href="union_libsd_spi_command_response.html#a7fbe9577c9bfbbb3d80990df2d213c2d">resp_r1</a>.<a class="code hl_variable" href="struct_libsd_spi_command_response_r1.html#abbf035f40ee8c3f20d6bd8c0e5c959c2">resp</a> == 0x05) {</div>
<div class="line"><span class="lineno">   84</span>        cmd.<a class="code hl_variable" href="struct_libsd_spi_defined_command.html#ad1b9abc95a1720e7595220cc366e8ab4">id</a> = <a class="code hl_enumvalue" href="#af93c4737aafa5967c62525b2db861bd5a07d91a17024637fc003cce13a0e58849">SEND_OP_COND</a>;</div>
<div class="line"><span class="lineno">   85</span>        cmd.<a class="code hl_variable" href="struct_libsd_spi_defined_command.html#afcc3013cf1654bce15b5bc0beb4f7129">arg</a> = 0;</div>
<div class="line"><span class="lineno">   86</span> </div>
<div class="line"><span class="lineno">   87</span>        <span class="keywordflow">do</span> {</div>
<div class="line"><span class="lineno">   88</span>            status = <a class="code hl_function" href="libsd_8c.html#ab0298722c83047fc1c9b40c1d5845c00">libsd_card_send_defined_command</a>(card, &amp;cmd, &amp;resp);</div>
<div class="line"><span class="lineno">   89</span>        } <span class="keywordflow">while</span>(resp.<a class="code hl_variable" href="union_libsd_spi_command_response.html#a7fbe9577c9bfbbb3d80990df2d213c2d">resp_r1</a>.<a class="code hl_variable" href="struct_libsd_spi_command_response_r1.html#abbf035f40ee8c3f20d6bd8c0e5c959c2">resp</a> == 0x01 &amp;&amp; status == <a class="code hl_enumvalue" href="#a35e9ef4fba3790348b74b5f1bb30e295aa290c988d692cfa633e720113b73990f">LIBSD_OK</a>);</div>
<div class="line"><span class="lineno">   90</span> </div>
<div class="line"><span class="lineno">   91</span>        <span class="keywordflow">if</span>(status != <a class="code hl_enumvalue" href="#a35e9ef4fba3790348b74b5f1bb30e295aa290c988d692cfa633e720113b73990f">LIBSD_OK</a>) {</div>
<div class="line"><span class="lineno">   92</span>            <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="#a35e9ef4fba3790348b74b5f1bb30e295a985ce5a0dd999b7ba42c3739706ce911">LIBSD_INIT_FAILED</a>;</div>
<div class="line"><span class="lineno">   93</span>        }</div>
<div class="line"><span class="lineno">   94</span>    }</div>
<div class="line"><span class="lineno">   95</span> </div>
<div class="line"><span class="lineno">   96</span>    <span class="comment">// initialization has finished</span></div>
<div class="line"><span class="lineno">   97</span>    <span class="comment">// TODO - add some info about the card to the struct for the user to examine</span></div>
<div class="line"><span class="lineno">   98</span>    <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="#a35e9ef4fba3790348b74b5f1bb30e295aa290c988d692cfa633e720113b73990f">LIBSD_OK</a>;</div>
<div class="line"><span class="lineno">   99</span>}</div>
<div class="ttc" id="alibsd_8c_html_aa9c46209a3939d308325a0ab7a2010b6"><div class="ttname"><a href="libsd_8c.html#aa9c46209a3939d308325a0ab7a2010b6">libsd_card_send_application_command</a></div><div class="ttdeci">LibsdReturnStatus libsd_card_send_application_command(LibsdCard *card, LibsdSpiApplicationCommand *cmd, LibsdSpiCommandResponse *resp)</div><div class="ttdoc">Send an application specific command to the card.</div><div class="ttdef"><b>Definition</b> libsd.c:181</div></div>
<div class="ttc" id="alibsd_8c_html_ab0298722c83047fc1c9b40c1d5845c00"><div class="ttname"><a href="libsd_8c.html#ab0298722c83047fc1c9b40c1d5845c00">libsd_card_send_defined_command</a></div><div class="ttdeci">LibsdReturnStatus libsd_card_send_defined_command(LibsdCard *card, LibsdSpiDefinedCommand *cmd, LibsdSpiCommandResponse *resp)</div><div class="ttdoc">Send a predefined command to the card.</div><div class="ttdef"><b>Definition</b> libsd.c:101</div></div>
<div class="ttc" id="aspi_8c_html_a4ed3b4d490b8cd00f3f94bce8108c7e6"><div class="ttname"><a href="spi_8c.html#a4ed3b4d490b8cd00f3f94bce8108c7e6">libsd_spi_cs_disable</a></div><div class="ttdeci">void libsd_spi_cs_disable(LibsdSpi *spi)</div><div class="ttdoc">Disable the chip select pin, which is used during the initialization routine.</div><div class="ttdef"><b>Definition</b> spi.c:35</div></div>
<div class="ttc" id="aspi_8c_html_abaaf34c5db811c379c8dfd332d58378c"><div class="ttname"><a href="spi_8c.html#abaaf34c5db811c379c8dfd332d58378c">libsd_spi_write_byte</a></div><div class="ttdeci">void libsd_spi_write_byte(LibsdSpi *spi, uint8_t byte)</div><div class="ttdoc">Write a single byte (8 bits) MSB first across the SPI interface.</div><div class="ttdef"><b>Definition</b> spi.c:45</div></div>
<div class="ttc" id="aspi_8c_html_afb0c85bb0321d4f28211ed128795b773"><div class="ttname"><a href="spi_8c.html#afb0c85bb0321d4f28211ed128795b773">libsd_spi_cs_enable</a></div><div class="ttdeci">void libsd_spi_cs_enable(LibsdSpi *spi)</div><div class="ttdoc">Enable the chip select pin, used during the initialization routine.</div><div class="ttdef"><b>Definition</b> spi.c:40</div></div>
<div class="ttc" id="astruct_libsd_card_html_aaddc55f0f0f4a8fed892f97bab788654"><div class="ttname"><a href="struct_libsd_card.html#aaddc55f0f0f4a8fed892f97bab788654">LibsdCard::spi</a></div><div class="ttdeci">LibsdSpi * spi</div><div class="ttdef"><b>Definition</b> libsd.h:172</div></div>
<div class="ttc" id="astruct_libsd_spi_application_command_html"><div class="ttname"><a href="struct_libsd_spi_application_command.html">LibsdSpiApplicationCommand</a></div><div class="ttdoc">Struct for an application specific SPI command.</div><div class="ttdef"><b>Definition</b> libsd.h:187</div></div>
<div class="ttc" id="astruct_libsd_spi_application_command_html_a05ef0db87c7c10d93b12f281d368be8a"><div class="ttname"><a href="struct_libsd_spi_application_command.html#a05ef0db87c7c10d93b12f281d368be8a">LibsdSpiApplicationCommand::arg</a></div><div class="ttdeci">uint32_t arg</div><div class="ttdef"><b>Definition</b> libsd.h:189</div></div>
<div class="ttc" id="astruct_libsd_spi_application_command_html_ad7e9efd0deb50d3b31a33d92d05f5d3b"><div class="ttname"><a href="struct_libsd_spi_application_command.html#ad7e9efd0deb50d3b31a33d92d05f5d3b">LibsdSpiApplicationCommand::id</a></div><div class="ttdeci">LibsdSpiApplicationCommandId id</div><div class="ttdef"><b>Definition</b> libsd.h:188</div></div>
<div class="ttc" id="astruct_libsd_spi_command_response_r1_html_abbf035f40ee8c3f20d6bd8c0e5c959c2"><div class="ttname"><a href="struct_libsd_spi_command_response_r1.html#abbf035f40ee8c3f20d6bd8c0e5c959c2">LibsdSpiCommandResponseR1::resp</a></div><div class="ttdeci">uint8_t resp</div><div class="ttdef"><b>Definition</b> libsd.h:196</div></div>
<div class="ttc" id="astruct_libsd_spi_command_response_r7_html_a487b4aac9e460bb8d17dea87c03b173f"><div class="ttname"><a href="struct_libsd_spi_command_response_r7.html#a487b4aac9e460bb8d17dea87c03b173f">LibsdSpiCommandResponseR7::resp</a></div><div class="ttdeci">uint8_t resp</div><div class="ttdef"><b>Definition</b> libsd.h:218</div></div>
<div class="ttc" id="astruct_libsd_spi_defined_command_html"><div class="ttname"><a href="struct_libsd_spi_defined_command.html">LibsdSpiDefinedCommand</a></div><div class="ttdoc">Struct for a predefined SPI command.</div><div class="ttdef"><b>Definition</b> libsd.h:179</div></div>
<div class="ttc" id="astruct_libsd_spi_defined_command_html_ad1b9abc95a1720e7595220cc366e8ab4"><div class="ttname"><a href="struct_libsd_spi_defined_command.html#ad1b9abc95a1720e7595220cc366e8ab4">LibsdSpiDefinedCommand::id</a></div><div class="ttdeci">LibsdSpiDefinedCommandId id</div><div class="ttdef"><b>Definition</b> libsd.h:180</div></div>
<div class="ttc" id="astruct_libsd_spi_defined_command_html_afcc3013cf1654bce15b5bc0beb4f7129"><div class="ttname"><a href="struct_libsd_spi_defined_command.html#afcc3013cf1654bce15b5bc0beb4f7129">LibsdSpiDefinedCommand::arg</a></div><div class="ttdeci">uint32_t arg</div><div class="ttdef"><b>Definition</b> libsd.h:181</div></div>
<div class="ttc" id="aunion_libsd_spi_command_response_html"><div class="ttname"><a href="union_libsd_spi_command_response.html">LibsdSpiCommandResponse</a></div><div class="ttdoc">Union for all response types.</div><div class="ttdef"><b>Definition</b> libsd.h:225</div></div>
<div class="ttc" id="aunion_libsd_spi_command_response_html_a0a9bb20080821a17ecb48366bc9ced45"><div class="ttname"><a href="union_libsd_spi_command_response.html#a0a9bb20080821a17ecb48366bc9ced45">LibsdSpiCommandResponse::resp_r7</a></div><div class="ttdeci">LibsdSpiCommandResponseR7 resp_r7</div><div class="ttdef"><b>Definition</b> libsd.h:229</div></div>
<div class="ttc" id="aunion_libsd_spi_command_response_html_a7fbe9577c9bfbbb3d80990df2d213c2d"><div class="ttname"><a href="union_libsd_spi_command_response.html#a7fbe9577c9bfbbb3d80990df2d213c2d">LibsdSpiCommandResponse::resp_r1</a></div><div class="ttdeci">LibsdSpiCommandResponseR1 resp_r1</div><div class="ttdef"><b>Definition</b> libsd.h:226</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ac6aeda3ef42fef5fc5f7e302ec894718" name="ac6aeda3ef42fef5fc5f7e302ec894718"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac6aeda3ef42fef5fc5f7e302ec894718">&#9670;&#160;</a></span>libsd_card_read_block()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="#a35e9ef4fba3790348b74b5f1bb30e295">LibsdReturnStatus</a> libsd_card_read_block </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_libsd_card.html">LibsdCard</a> *</td>          <td class="paramname"><span class="paramname"><em>card</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t</td>          <td class="paramname"><span class="paramname"><em>addr</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t *</td>          <td class="paramname"><span class="paramname"><em>read_buf</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t</td>          <td class="paramname"><span class="paramname"><em>len</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Read a block (usually 512 bytes) from the SD card at the given block address. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">card</td><td>Struct for the SD card to read from </td></tr>
    <tr><td class="paramname">addr</td><td>Address to read the block from (block address) </td></tr>
    <tr><td class="paramname">read_buf</td><td>Buffer to place the read data in </td></tr>
    <tr><td class="paramname">len</td><td>Length of the buffer in bytes</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>LIBSD_OK if the command was sent and a response was received, LIBSD_TIMEOUT if no response within 8 bytes on SPI </dd></dl>
<div class="fragment"><div class="line"><span class="lineno">  305</span>                                                                                                         {</div>
<div class="line"><span class="lineno">  306</span>    <span class="keywordflow">if</span>(len &lt; card-&gt;block_size) {</div>
<div class="line"><span class="lineno">  307</span>        <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="#a35e9ef4fba3790348b74b5f1bb30e295a0aadb7478c96bd88f0587cf94f96ede8">LIBSD_BUF_TOO_SMALL</a>;</div>
<div class="line"><span class="lineno">  308</span>    }</div>
<div class="line"><span class="lineno">  309</span> </div>
<div class="line"><span class="lineno">  310</span>    <a class="code hl_union" href="union_libsd_spi_command_response.html">LibsdSpiCommandResponse</a> resp;</div>
<div class="line"><span class="lineno">  311</span>    <a class="code hl_struct" href="struct_libsd_spi_defined_command.html">LibsdSpiDefinedCommand</a> cmd;</div>
<div class="line"><span class="lineno">  312</span>    cmd.<a class="code hl_variable" href="struct_libsd_spi_defined_command.html#afcc3013cf1654bce15b5bc0beb4f7129">arg</a> = addr;</div>
<div class="line"><span class="lineno">  313</span>    cmd.<a class="code hl_variable" href="struct_libsd_spi_defined_command.html#ad1b9abc95a1720e7595220cc366e8ab4">id</a> = <a class="code hl_enumvalue" href="#af93c4737aafa5967c62525b2db861bd5a981471a896d209c94bcb967e9eda2538">READ_SINGLE_BLOCK</a>;</div>
<div class="line"><span class="lineno">  314</span>    <a class="code hl_enumeration" href="#a35e9ef4fba3790348b74b5f1bb30e295">LibsdReturnStatus</a> status = <a class="code hl_function" href="libsd_8c.html#ab0298722c83047fc1c9b40c1d5845c00">libsd_card_send_defined_command</a>(card, &amp;cmd, &amp;resp);</div>
<div class="line"><span class="lineno">  315</span> </div>
<div class="line"><span class="lineno">  316</span>    <span class="keywordflow">if</span>(status != <a class="code hl_enumvalue" href="#a35e9ef4fba3790348b74b5f1bb30e295aa290c988d692cfa633e720113b73990f">LIBSD_OK</a> <span class="comment">/* || resp.resp_r1.resp != 0x01*/</span>) { <span class="comment">// TODO check about the response from a read command</span></div>
<div class="line"><span class="lineno">  317</span>        <span class="keywordflow">return</span> status;</div>
<div class="line"><span class="lineno">  318</span>    }</div>
<div class="line"><span class="lineno">  319</span> </div>
<div class="line"><span class="lineno">  320</span>    <span class="comment">// look for start of block symbol</span></div>
<div class="line"><span class="lineno">  321</span>    uint8_t read_byte = 0xFF;</div>
<div class="line"><span class="lineno">  322</span>    <span class="keywordflow">while</span>(read_byte != <a class="code hl_variable" href="libsd_8c.html#afe126337fd5a9407c4216459506fb0bf">LIBSD_START_BLOCK_SINGLE</a>) {</div>
<div class="line"><span class="lineno">  323</span>        <a class="code hl_function" href="spi_8c.html#aefbf78ce76b86e4cba92dabcbf07ed2c">libsd_spi_read_write_byte</a>(card-&gt;<a class="code hl_variable" href="struct_libsd_card.html#aaddc55f0f0f4a8fed892f97bab788654">spi</a>, 0xFF, &amp;read_byte);</div>
<div class="line"><span class="lineno">  324</span>    }</div>
<div class="line"><span class="lineno">  325</span> </div>
<div class="line"><span class="lineno">  326</span>    <span class="comment">// read a block from the SD card</span></div>
<div class="line"><span class="lineno">  327</span>    <a class="code hl_function" href="spi_8c.html#a566653035b66de938102a46b620422df">libsd_spi_read_buf</a>(card-&gt;<a class="code hl_variable" href="struct_libsd_card.html#aaddc55f0f0f4a8fed892f97bab788654">spi</a>, 0xFF, read_buf, card-&gt;<a class="code hl_variable" href="struct_libsd_card.html#abeab263538de0bda9f7b09161c9eecdc">block_size</a>);</div>
<div class="line"><span class="lineno">  328</span> </div>
<div class="line"><span class="lineno">  329</span>    <span class="comment">// read the CRC16 for the data to verify correct</span></div>
<div class="line"><span class="lineno">  330</span>    uint8_t crc_buf[2];</div>
<div class="line"><span class="lineno">  331</span>    <a class="code hl_function" href="spi_8c.html#a566653035b66de938102a46b620422df">libsd_spi_read_buf</a>(card-&gt;<a class="code hl_variable" href="struct_libsd_card.html#aaddc55f0f0f4a8fed892f97bab788654">spi</a>, 0xFF, crc_buf, 2);</div>
<div class="line"><span class="lineno">  332</span> </div>
<div class="line"><span class="lineno">  333</span>    uint16_t received_crc = crc_buf[0];</div>
<div class="line"><span class="lineno">  334</span>    received_crc &lt;&lt;= 8;</div>
<div class="line"><span class="lineno">  335</span>    received_crc |= crc_buf[1];</div>
<div class="line"><span class="lineno">  336</span> </div>
<div class="line"><span class="lineno">  337</span>    uint16_t calc_crc = <a class="code hl_function" href="crc16_8c.html#ac4532ed85743133f4b4ad80869c68458">libsd_crc16_calculate</a>(0, read_buf, card-&gt;<a class="code hl_variable" href="struct_libsd_card.html#abeab263538de0bda9f7b09161c9eecdc">block_size</a>);</div>
<div class="line"><span class="lineno">  338</span> </div>
<div class="line"><span class="lineno">  339</span>    <span class="keywordflow">if</span>(received_crc != calc_crc) {</div>
<div class="line"><span class="lineno">  340</span>        <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="#a35e9ef4fba3790348b74b5f1bb30e295afd4e1e73c876c7288df868906b8a0877">LIBSD_CRC_ERROR</a>;</div>
<div class="line"><span class="lineno">  341</span>    }</div>
<div class="line"><span class="lineno">  342</span> </div>
<div class="line"><span class="lineno">  343</span>    <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="#a35e9ef4fba3790348b74b5f1bb30e295aa290c988d692cfa633e720113b73990f">LIBSD_OK</a>;</div>
<div class="line"><span class="lineno">  344</span>}</div>
<div class="ttc" id="acrc16_8c_html_ac4532ed85743133f4b4ad80869c68458"><div class="ttname"><a href="crc16_8c.html#ac4532ed85743133f4b4ad80869c68458">libsd_crc16_calculate</a></div><div class="ttdeci">uint16_t libsd_crc16_calculate(uint16_t crc_last, uint8_t *data, int len)</div><div class="ttdef"><b>Definition</b> crc16.c:57</div></div>
<div class="ttc" id="alibsd_8c_html_afe126337fd5a9407c4216459506fb0bf"><div class="ttname"><a href="libsd_8c.html#afe126337fd5a9407c4216459506fb0bf">LIBSD_START_BLOCK_SINGLE</a></div><div class="ttdeci">const uint8_t LIBSD_START_BLOCK_SINGLE</div><div class="ttdoc">Constant that marks start of block for single writes and both reads.</div><div class="ttdef"><b>Definition</b> libsd.c:21</div></div>
<div class="ttc" id="aspi_8c_html_a566653035b66de938102a46b620422df"><div class="ttname"><a href="spi_8c.html#a566653035b66de938102a46b620422df">libsd_spi_read_buf</a></div><div class="ttdeci">void libsd_spi_read_buf(LibsdSpi *spi, uint8_t write_byte, uint8_t *buf, uint32_t len)</div><div class="ttdoc">Read a single byte from the SPI interface.</div><div class="ttdef"><b>Definition</b> spi.c:57</div></div>
<div class="ttc" id="aspi_8c_html_aefbf78ce76b86e4cba92dabcbf07ed2c"><div class="ttname"><a href="spi_8c.html#aefbf78ce76b86e4cba92dabcbf07ed2c">libsd_spi_read_write_byte</a></div><div class="ttdeci">void libsd_spi_read_write_byte(LibsdSpi *spi, uint8_t write_byte, uint8_t *read_byte)</div><div class="ttdoc">Read a single byte from the SPI interface.</div><div class="ttdef"><b>Definition</b> spi.c:53</div></div>
<div class="ttc" id="astruct_libsd_card_html_abeab263538de0bda9f7b09161c9eecdc"><div class="ttname"><a href="struct_libsd_card.html#abeab263538de0bda9f7b09161c9eecdc">LibsdCard::block_size</a></div><div class="ttdeci">uint16_t block_size</div><div class="ttdef"><b>Definition</b> libsd.h:173</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="aa9c46209a3939d308325a0ab7a2010b6" name="aa9c46209a3939d308325a0ab7a2010b6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa9c46209a3939d308325a0ab7a2010b6">&#9670;&#160;</a></span>libsd_card_send_application_command()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="#a35e9ef4fba3790348b74b5f1bb30e295">LibsdReturnStatus</a> libsd_card_send_application_command </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_libsd_card.html">LibsdCard</a> *</td>          <td class="paramname"><span class="paramname"><em>card</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_libsd_spi_application_command.html">LibsdSpiApplicationCommand</a> *</td>          <td class="paramname"><span class="paramname"><em>cmd</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="union_libsd_spi_command_response.html">LibsdSpiCommandResponse</a> *</td>          <td class="paramname"><span class="paramname"><em>resp</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Send an application specific command to the card. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">card</td><td>Struct for the SD card to send the command to </td></tr>
    <tr><td class="paramname">cmd</td><td>Struct for the command to be sent </td></tr>
    <tr><td class="paramname">resp</td><td>Union to place the response into</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>LIBSD_OK if the command was sent and a response was received, LIBSD_TIMEOUT if no response within 8 bytes on SPI </dd></dl>
<div class="fragment"><div class="line"><span class="lineno">  181</span>                                                                                                                                       {</div>
<div class="line"><span class="lineno">  182</span>    <span class="comment">// every application specific command needs a APP_CMD (CMD55) sent first</span></div>
<div class="line"><span class="lineno">  183</span>    <a class="code hl_struct" href="struct_libsd_spi_defined_command.html">LibsdSpiDefinedCommand</a> app_cmd;</div>
<div class="line"><span class="lineno">  184</span>    app_cmd.<a class="code hl_variable" href="struct_libsd_spi_defined_command.html#afcc3013cf1654bce15b5bc0beb4f7129">arg</a> = 0;</div>
<div class="line"><span class="lineno">  185</span>    app_cmd.<a class="code hl_variable" href="struct_libsd_spi_defined_command.html#ad1b9abc95a1720e7595220cc366e8ab4">id</a> = <a class="code hl_enumvalue" href="#af93c4737aafa5967c62525b2db861bd5ab1f86f7ebbfab11df1eb34efbaa06205">APP_CMD</a>;</div>
<div class="line"><span class="lineno">  186</span>    <a class="code hl_enumeration" href="#a35e9ef4fba3790348b74b5f1bb30e295">LibsdReturnStatus</a> status = <a class="code hl_function" href="libsd_8c.html#ab0298722c83047fc1c9b40c1d5845c00">libsd_card_send_defined_command</a>(card, &amp;app_cmd, resp);</div>
<div class="line"><span class="lineno">  187</span>    <span class="keywordflow">if</span>(status != <a class="code hl_enumvalue" href="#a35e9ef4fba3790348b74b5f1bb30e295aa290c988d692cfa633e720113b73990f">LIBSD_OK</a>) {</div>
<div class="line"><span class="lineno">  188</span>        <span class="keywordflow">return</span> status;</div>
<div class="line"><span class="lineno">  189</span>    }</div>
<div class="line"><span class="lineno">  190</span> </div>
<div class="line"><span class="lineno">  191</span>    <span class="comment">// after we have sent the APP_CMD, send the application command</span></div>
<div class="line"><span class="lineno">  192</span>    <span class="comment">// same general procedure as the other</span></div>
<div class="line"><span class="lineno">  193</span>    uint8_t cmd_buf[6];</div>
<div class="line"><span class="lineno">  194</span> </div>
<div class="line"><span class="lineno">  195</span>    cmd_buf[0] = 0x40 | (cmd-&gt;<a class="code hl_variable" href="struct_libsd_spi_application_command.html#ad7e9efd0deb50d3b31a33d92d05f5d3b">id</a> &amp; 0x3F);</div>
<div class="line"><span class="lineno">  196</span>    cmd_buf[1] = (cmd-&gt;<a class="code hl_variable" href="struct_libsd_spi_application_command.html#a05ef0db87c7c10d93b12f281d368be8a">arg</a> &gt;&gt; 24) &amp; 0xFF;</div>
<div class="line"><span class="lineno">  197</span>    cmd_buf[2] = (cmd-&gt;<a class="code hl_variable" href="struct_libsd_spi_application_command.html#a05ef0db87c7c10d93b12f281d368be8a">arg</a> &gt;&gt; 16) &amp; 0xFF;</div>
<div class="line"><span class="lineno">  198</span>    cmd_buf[3] = (cmd-&gt;<a class="code hl_variable" href="struct_libsd_spi_application_command.html#a05ef0db87c7c10d93b12f281d368be8a">arg</a> &gt;&gt; 8) &amp; 0xFF;</div>
<div class="line"><span class="lineno">  199</span>    cmd_buf[4] = cmd-&gt;<a class="code hl_variable" href="struct_libsd_spi_application_command.html#a05ef0db87c7c10d93b12f281d368be8a">arg</a> &amp; 0xFF;</div>
<div class="line"><span class="lineno">  200</span> </div>
<div class="line"><span class="lineno">  201</span>    <span class="comment">// find CRC7 for the first 5 bytes</span></div>
<div class="line"><span class="lineno">  202</span>    uint8_t crc = <a class="code hl_function" href="crc7_8c.html#a0ff6f9ff52dd297a25ec5926c7e1b24d">libsd_crc7_calculate</a>(cmd_buf, 5);</div>
<div class="line"><span class="lineno">  203</span> </div>
<div class="line"><span class="lineno">  204</span>    cmd_buf[5] = (crc &lt;&lt; 1) | 0x01;</div>
<div class="line"><span class="lineno">  205</span> </div>
<div class="line"><span class="lineno">  206</span>    <span class="comment">// send to command buffer across the SPI interface</span></div>
<div class="line"><span class="lineno">  207</span>    <a class="code hl_function" href="spi_8c.html#ab42a8aeb96c6630d784434ead75302b4">libsd_spi_write_buf</a>(card-&gt;<a class="code hl_variable" href="struct_libsd_card.html#aaddc55f0f0f4a8fed892f97bab788654">spi</a>, cmd_buf, 6);</div>
<div class="line"><span class="lineno">  208</span> </div>
<div class="line"><span class="lineno">  209</span>    uint8_t read_byte = 0xFF;</div>
<div class="line"><span class="lineno">  210</span>    <span class="comment">// it can take anywhere from 0 to 8 clock cycles for a response according to the specification</span></div>
<div class="line"><span class="lineno">  211</span>    <span class="keywordflow">for</span>(<span class="keywordtype">int</span> i = 0; i &lt;= 8; i++) {</div>
<div class="line"><span class="lineno">  212</span>        <a class="code hl_function" href="spi_8c.html#aefbf78ce76b86e4cba92dabcbf07ed2c">libsd_spi_read_write_byte</a>(card-&gt;<a class="code hl_variable" href="struct_libsd_card.html#aaddc55f0f0f4a8fed892f97bab788654">spi</a>, 0xFF, &amp;read_byte);</div>
<div class="line"><span class="lineno">  213</span>        <span class="comment">// the SD card will hold the line high for busy, and the MSB of any response is 0, so check for that</span></div>
<div class="line"><span class="lineno">  214</span>        <span class="keywordflow">if</span>((read_byte &amp; 0x80) == 0x00) {</div>
<div class="line"><span class="lineno">  215</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  216</span>        }</div>
<div class="line"><span class="lineno">  217</span>    }</div>
<div class="line"><span class="lineno">  218</span> </div>
<div class="line"><span class="lineno">  219</span>    <span class="keywordflow">if</span>(read_byte == 0xFF) {</div>
<div class="line"><span class="lineno">  220</span>        <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="#a35e9ef4fba3790348b74b5f1bb30e295a501fd744f95cf0d30eb43f09e4ab5fd6">LIBSD_TIMEOUT</a>; <span class="comment">// didn&#39;t get a valid response in time from the card</span></div>
<div class="line"><span class="lineno">  221</span>    }</div>
<div class="line"><span class="lineno">  222</span> </div>
<div class="line"><span class="lineno">  223</span>    <span class="keywordflow">if</span>(cmd-&gt;<a class="code hl_variable" href="struct_libsd_spi_application_command.html#ad7e9efd0deb50d3b31a33d92d05f5d3b">id</a> == <a class="code hl_enumvalue" href="#a859ce15161dc89b1f06a323a82d82f37a1d6f66f881132e0032676f3d0fbf27ad">ACMD13</a>) {</div>
<div class="line"><span class="lineno">  224</span>        <span class="comment">// ACMD13 is the only application command with an R2 response</span></div>
<div class="line"><span class="lineno">  225</span>        <span class="comment">// need to read an extra 2 bytes</span></div>
<div class="line"><span class="lineno">  226</span>        uint8_t read_byte_lower;</div>
<div class="line"><span class="lineno">  227</span>        <a class="code hl_function" href="spi_8c.html#aefbf78ce76b86e4cba92dabcbf07ed2c">libsd_spi_read_write_byte</a>(card-&gt;<a class="code hl_variable" href="struct_libsd_card.html#aaddc55f0f0f4a8fed892f97bab788654">spi</a>, 0xFF, &amp;read_byte_lower);</div>
<div class="line"><span class="lineno">  228</span>        resp-&gt;<a class="code hl_variable" href="union_libsd_spi_command_response.html#a2dc9b1f839595a38b6d79bbae8fd65db">resp_r2</a>.<a class="code hl_variable" href="struct_libsd_spi_command_response_r2.html#ab310b3e1150523205d5fb1d6892bc70a">resp</a> = read_byte;</div>
<div class="line"><span class="lineno">  229</span>        resp-&gt;<a class="code hl_variable" href="union_libsd_spi_command_response.html#a2dc9b1f839595a38b6d79bbae8fd65db">resp_r2</a>.<a class="code hl_variable" href="struct_libsd_spi_command_response_r2.html#ab310b3e1150523205d5fb1d6892bc70a">resp</a> &lt;&lt;= 8;</div>
<div class="line"><span class="lineno">  230</span>        resp-&gt;<a class="code hl_variable" href="union_libsd_spi_command_response.html#a2dc9b1f839595a38b6d79bbae8fd65db">resp_r2</a>.<a class="code hl_variable" href="struct_libsd_spi_command_response_r2.html#ab310b3e1150523205d5fb1d6892bc70a">resp</a> |= read_byte_lower;</div>
<div class="line"><span class="lineno">  231</span> </div>
<div class="line"><span class="lineno">  232</span>        <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="#a35e9ef4fba3790348b74b5f1bb30e295aa290c988d692cfa633e720113b73990f">LIBSD_OK</a>;</div>
<div class="line"><span class="lineno">  233</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  234</span>        <span class="comment">// we have a R1 response</span></div>
<div class="line"><span class="lineno">  235</span>        <span class="comment">// no busy signals for these</span></div>
<div class="line"><span class="lineno">  236</span>        resp-&gt;<a class="code hl_variable" href="union_libsd_spi_command_response.html#a7fbe9577c9bfbbb3d80990df2d213c2d">resp_r1</a>.<a class="code hl_variable" href="struct_libsd_spi_command_response_r1.html#abbf035f40ee8c3f20d6bd8c0e5c959c2">resp</a> = read_byte;</div>
<div class="line"><span class="lineno">  237</span> </div>
<div class="line"><span class="lineno">  238</span>        <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="#a35e9ef4fba3790348b74b5f1bb30e295aa290c988d692cfa633e720113b73990f">LIBSD_OK</a>;</div>
<div class="line"><span class="lineno">  239</span>    }</div>
<div class="line"><span class="lineno">  240</span>}</div>
<div class="ttc" id="acrc7_8c_html_a0ff6f9ff52dd297a25ec5926c7e1b24d"><div class="ttname"><a href="crc7_8c.html#a0ff6f9ff52dd297a25ec5926c7e1b24d">libsd_crc7_calculate</a></div><div class="ttdeci">uint8_t libsd_crc7_calculate(uint8_t *data, int len)</div><div class="ttdef"><b>Definition</b> crc7.c:57</div></div>
<div class="ttc" id="aspi_8c_html_ab42a8aeb96c6630d784434ead75302b4"><div class="ttname"><a href="spi_8c.html#ab42a8aeb96c6630d784434ead75302b4">libsd_spi_write_buf</a></div><div class="ttdeci">void libsd_spi_write_buf(LibsdSpi *spi, uint8_t *buf, uint32_t len)</div><div class="ttdoc">Write a buffer of bytes across the SPI interface.</div><div class="ttdef"><b>Definition</b> spi.c:49</div></div>
<div class="ttc" id="astruct_libsd_spi_command_response_r2_html_ab310b3e1150523205d5fb1d6892bc70a"><div class="ttname"><a href="struct_libsd_spi_command_response_r2.html#ab310b3e1150523205d5fb1d6892bc70a">LibsdSpiCommandResponseR2::resp</a></div><div class="ttdeci">uint16_t resp</div><div class="ttdef"><b>Definition</b> libsd.h:203</div></div>
<div class="ttc" id="aunion_libsd_spi_command_response_html_a2dc9b1f839595a38b6d79bbae8fd65db"><div class="ttname"><a href="union_libsd_spi_command_response.html#a2dc9b1f839595a38b6d79bbae8fd65db">LibsdSpiCommandResponse::resp_r2</a></div><div class="ttdeci">LibsdSpiCommandResponseR2 resp_r2</div><div class="ttdef"><b>Definition</b> libsd.h:227</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ab0298722c83047fc1c9b40c1d5845c00" name="ab0298722c83047fc1c9b40c1d5845c00"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab0298722c83047fc1c9b40c1d5845c00">&#9670;&#160;</a></span>libsd_card_send_defined_command()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="#a35e9ef4fba3790348b74b5f1bb30e295">LibsdReturnStatus</a> libsd_card_send_defined_command </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_libsd_card.html">LibsdCard</a> *</td>          <td class="paramname"><span class="paramname"><em>card</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_libsd_spi_defined_command.html">LibsdSpiDefinedCommand</a> *</td>          <td class="paramname"><span class="paramname"><em>cmd</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="union_libsd_spi_command_response.html">LibsdSpiCommandResponse</a> *</td>          <td class="paramname"><span class="paramname"><em>resp</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Send a predefined command to the card. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">card</td><td>Struct for the SD card to send the command to </td></tr>
    <tr><td class="paramname">cmd</td><td>Struct for the command to be sent </td></tr>
    <tr><td class="paramname">resp</td><td>Union to place response into</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>LIBSD_OK if the command was sent and a response was received, LIBSD_TIMEOUT if no response within 8 bytes on SPI </dd></dl>
<div class="fragment"><div class="line"><span class="lineno">  101</span>                                                                                                                               {</div>
<div class="line"><span class="lineno">  102</span>    <span class="comment">// first, we need to create a cmd_bufer with the command to send across the SPI interface</span></div>
<div class="line"><span class="lineno">  103</span>    <span class="comment">// each command is 48 bits (6 bytes)</span></div>
<div class="line"><span class="lineno">  104</span>    uint8_t cmd_buf[6];</div>
<div class="line"><span class="lineno">  105</span> </div>
<div class="line"><span class="lineno">  106</span>    cmd_buf[0] = 0x40 | (cmd-&gt;<a class="code hl_variable" href="struct_libsd_spi_defined_command.html#ad1b9abc95a1720e7595220cc366e8ab4">id</a> &amp; 0x3F);</div>
<div class="line"><span class="lineno">  107</span>    cmd_buf[1] = (cmd-&gt;<a class="code hl_variable" href="struct_libsd_spi_defined_command.html#afcc3013cf1654bce15b5bc0beb4f7129">arg</a> &gt;&gt; 24) &amp; 0xFF;</div>
<div class="line"><span class="lineno">  108</span>    cmd_buf[2] = (cmd-&gt;<a class="code hl_variable" href="struct_libsd_spi_defined_command.html#afcc3013cf1654bce15b5bc0beb4f7129">arg</a> &gt;&gt; 16) &amp; 0xFF;</div>
<div class="line"><span class="lineno">  109</span>    cmd_buf[3] = (cmd-&gt;<a class="code hl_variable" href="struct_libsd_spi_defined_command.html#afcc3013cf1654bce15b5bc0beb4f7129">arg</a> &gt;&gt; 8) &amp; 0xFF;</div>
<div class="line"><span class="lineno">  110</span>    cmd_buf[4] = cmd-&gt;<a class="code hl_variable" href="struct_libsd_spi_defined_command.html#afcc3013cf1654bce15b5bc0beb4f7129">arg</a> &amp; 0xFF;</div>
<div class="line"><span class="lineno">  111</span> </div>
<div class="line"><span class="lineno">  112</span>    <span class="comment">// find CRC7 for the first 5 bytes</span></div>
<div class="line"><span class="lineno">  113</span>    uint8_t crc = <a class="code hl_function" href="crc7_8c.html#a0ff6f9ff52dd297a25ec5926c7e1b24d">libsd_crc7_calculate</a>(cmd_buf, 5);</div>
<div class="line"><span class="lineno">  114</span> </div>
<div class="line"><span class="lineno">  115</span>    cmd_buf[5] = (crc &lt;&lt; 1) | 0x01;</div>
<div class="line"><span class="lineno">  116</span> </div>
<div class="line"><span class="lineno">  117</span>    <span class="comment">// send to command buffer across the SPI interface</span></div>
<div class="line"><span class="lineno">  118</span>    <a class="code hl_function" href="spi_8c.html#ab42a8aeb96c6630d784434ead75302b4">libsd_spi_write_buf</a>(card-&gt;<a class="code hl_variable" href="struct_libsd_card.html#aaddc55f0f0f4a8fed892f97bab788654">spi</a>, cmd_buf, 6);</div>
<div class="line"><span class="lineno">  119</span> </div>
<div class="line"><span class="lineno">  120</span>    uint8_t read_byte = 0xFF;</div>
<div class="line"><span class="lineno">  121</span>    <span class="comment">// it can take anywhere from 0 to 8 clock cycles for a response according to the specification</span></div>
<div class="line"><span class="lineno">  122</span>    <span class="keywordflow">for</span>(<span class="keywordtype">int</span> i = 0; i &lt;= 8; i++) {</div>
<div class="line"><span class="lineno">  123</span>        <a class="code hl_function" href="spi_8c.html#aefbf78ce76b86e4cba92dabcbf07ed2c">libsd_spi_read_write_byte</a>(card-&gt;<a class="code hl_variable" href="struct_libsd_card.html#aaddc55f0f0f4a8fed892f97bab788654">spi</a>, 0xFF, &amp;read_byte);</div>
<div class="line"><span class="lineno">  124</span>        <span class="comment">// the SD card will hold the line high for busy, and the MSB of any response is 0, so check for that</span></div>
<div class="line"><span class="lineno">  125</span>        <span class="keywordflow">if</span>((read_byte &amp; 0x80) == 0x00) {</div>
<div class="line"><span class="lineno">  126</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  127</span>        }</div>
<div class="line"><span class="lineno">  128</span>    }</div>
<div class="line"><span class="lineno">  129</span> </div>
<div class="line"><span class="lineno">  130</span>    <span class="keywordflow">if</span>(read_byte == 0xFF) {</div>
<div class="line"><span class="lineno">  131</span>        <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="#a35e9ef4fba3790348b74b5f1bb30e295a501fd744f95cf0d30eb43f09e4ab5fd6">LIBSD_TIMEOUT</a>; <span class="comment">// didn&#39;t get a valid response in time from the card</span></div>
<div class="line"><span class="lineno">  132</span>    }</div>
<div class="line"><span class="lineno">  133</span> </div>
<div class="line"><span class="lineno">  134</span>    <span class="keywordflow">if</span>(cmd-&gt;<a class="code hl_variable" href="struct_libsd_spi_defined_command.html#ad1b9abc95a1720e7595220cc366e8ab4">id</a> == <a class="code hl_enumvalue" href="#af93c4737aafa5967c62525b2db861bd5a651ee13eedad94e8b3e08c5a666fb820">CMD8</a>) {</div>
<div class="line"><span class="lineno">  135</span>        <span class="comment">// CMD8 is the only predefined command that responds in an R7 format</span></div>
<div class="line"><span class="lineno">  136</span>        resp-&gt;<a class="code hl_variable" href="union_libsd_spi_command_response.html#a0a9bb20080821a17ecb48366bc9ced45">resp_r7</a>.<a class="code hl_variable" href="struct_libsd_spi_command_response_r7.html#a487b4aac9e460bb8d17dea87c03b173f">resp</a> = read_byte;</div>
<div class="line"><span class="lineno">  137</span>        resp-&gt;<a class="code hl_variable" href="union_libsd_spi_command_response.html#a0a9bb20080821a17ecb48366bc9ced45">resp_r7</a>.<a class="code hl_variable" href="struct_libsd_spi_command_response_r7.html#ad18875ac3f248dc3dfb5e2add63a632f">extra</a> = 0;</div>
<div class="line"><span class="lineno">  138</span>        <span class="comment">// R7 format has an additional 4 bytes of status</span></div>
<div class="line"><span class="lineno">  139</span>        <span class="keywordflow">for</span>(<span class="keywordtype">int</span> i = 0; i &lt; 4; i++) {</div>
<div class="line"><span class="lineno">  140</span>            <a class="code hl_function" href="spi_8c.html#aefbf78ce76b86e4cba92dabcbf07ed2c">libsd_spi_read_write_byte</a>(card-&gt;<a class="code hl_variable" href="struct_libsd_card.html#aaddc55f0f0f4a8fed892f97bab788654">spi</a>, 0xFF, &amp;read_byte);</div>
<div class="line"><span class="lineno">  141</span>            resp-&gt;<a class="code hl_variable" href="union_libsd_spi_command_response.html#a0a9bb20080821a17ecb48366bc9ced45">resp_r7</a>.<a class="code hl_variable" href="struct_libsd_spi_command_response_r7.html#ad18875ac3f248dc3dfb5e2add63a632f">extra</a> &lt;&lt;= 8;</div>
<div class="line"><span class="lineno">  142</span>            resp-&gt;<a class="code hl_variable" href="union_libsd_spi_command_response.html#a0a9bb20080821a17ecb48366bc9ced45">resp_r7</a>.<a class="code hl_variable" href="struct_libsd_spi_command_response_r7.html#ad18875ac3f248dc3dfb5e2add63a632f">extra</a> |= read_byte;</div>
<div class="line"><span class="lineno">  143</span>        }</div>
<div class="line"><span class="lineno">  144</span> </div>
<div class="line"><span class="lineno">  145</span>        <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="#a35e9ef4fba3790348b74b5f1bb30e295aa290c988d692cfa633e720113b73990f">LIBSD_OK</a>;</div>
<div class="line"><span class="lineno">  146</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>(cmd-&gt;<a class="code hl_variable" href="struct_libsd_spi_defined_command.html#ad1b9abc95a1720e7595220cc366e8ab4">id</a> == <a class="code hl_enumvalue" href="#af93c4737aafa5967c62525b2db861bd5acb344739b2733fe7ef0c8f28a92896d1">CMD58</a>) {</div>
<div class="line"><span class="lineno">  147</span>        <span class="comment">// CMD58 is the only predefined command that responds in an R3 format</span></div>
<div class="line"><span class="lineno">  148</span>        resp-&gt;<a class="code hl_variable" href="union_libsd_spi_command_response.html#a6aae5ced66e6a6b3214b945cc615a0d3">resp_r3</a>.<a class="code hl_variable" href="struct_libsd_spi_command_response_r3.html#a0d6e64ba43c84a00cd7870ce148267bc">resp</a> = read_byte;</div>
<div class="line"><span class="lineno">  149</span>        resp-&gt;<a class="code hl_variable" href="union_libsd_spi_command_response.html#a6aae5ced66e6a6b3214b945cc615a0d3">resp_r3</a>.<a class="code hl_variable" href="struct_libsd_spi_command_response_r3.html#adbb43155674764664f4bae6da67a5fe9">extra</a> = 0;</div>
<div class="line"><span class="lineno">  150</span>        <span class="comment">// R3 format has an additional 4 bytes of status</span></div>
<div class="line"><span class="lineno">  151</span>        <span class="keywordflow">for</span>(<span class="keywordtype">int</span> i = 0; i &lt; 4; i++) {</div>
<div class="line"><span class="lineno">  152</span>            <a class="code hl_function" href="spi_8c.html#aefbf78ce76b86e4cba92dabcbf07ed2c">libsd_spi_read_write_byte</a>(card-&gt;<a class="code hl_variable" href="struct_libsd_card.html#aaddc55f0f0f4a8fed892f97bab788654">spi</a>, 0xFF, &amp;read_byte);</div>
<div class="line"><span class="lineno">  153</span>            resp-&gt;<a class="code hl_variable" href="union_libsd_spi_command_response.html#a6aae5ced66e6a6b3214b945cc615a0d3">resp_r3</a>.<a class="code hl_variable" href="struct_libsd_spi_command_response_r3.html#adbb43155674764664f4bae6da67a5fe9">extra</a> &lt;&lt;= 8;</div>
<div class="line"><span class="lineno">  154</span>            resp-&gt;<a class="code hl_variable" href="union_libsd_spi_command_response.html#a6aae5ced66e6a6b3214b945cc615a0d3">resp_r3</a>.<a class="code hl_variable" href="struct_libsd_spi_command_response_r3.html#adbb43155674764664f4bae6da67a5fe9">extra</a> |= read_byte;</div>
<div class="line"><span class="lineno">  155</span>        }</div>
<div class="line"><span class="lineno">  156</span>        </div>
<div class="line"><span class="lineno">  157</span>        <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="#a35e9ef4fba3790348b74b5f1bb30e295aa290c988d692cfa633e720113b73990f">LIBSD_OK</a>;</div>
<div class="line"><span class="lineno">  158</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>(cmd-&gt;<a class="code hl_variable" href="struct_libsd_spi_defined_command.html#ad1b9abc95a1720e7595220cc366e8ab4">id</a> == <a class="code hl_enumvalue" href="#af93c4737aafa5967c62525b2db861bd5adb3d8777afe922d38ef02e8dcfeb8420">CMD13</a>) {</div>
<div class="line"><span class="lineno">  159</span>        <span class="comment">// CMD13 is the only predefined command that responds in an R2 format</span></div>
<div class="line"><span class="lineno">  160</span>        <span class="comment">// need to read an extra 2 bytes</span></div>
<div class="line"><span class="lineno">  161</span>        uint8_t read_byte_lower;</div>
<div class="line"><span class="lineno">  162</span>        <a class="code hl_function" href="spi_8c.html#aefbf78ce76b86e4cba92dabcbf07ed2c">libsd_spi_read_write_byte</a>(card-&gt;<a class="code hl_variable" href="struct_libsd_card.html#aaddc55f0f0f4a8fed892f97bab788654">spi</a>, 0xFF, &amp;read_byte_lower);</div>
<div class="line"><span class="lineno">  163</span>        resp-&gt;<a class="code hl_variable" href="union_libsd_spi_command_response.html#a2dc9b1f839595a38b6d79bbae8fd65db">resp_r2</a>.<a class="code hl_variable" href="struct_libsd_spi_command_response_r2.html#ab310b3e1150523205d5fb1d6892bc70a">resp</a> = read_byte;</div>
<div class="line"><span class="lineno">  164</span>        resp-&gt;<a class="code hl_variable" href="union_libsd_spi_command_response.html#a2dc9b1f839595a38b6d79bbae8fd65db">resp_r2</a>.<a class="code hl_variable" href="struct_libsd_spi_command_response_r2.html#ab310b3e1150523205d5fb1d6892bc70a">resp</a> &lt;&lt;= 8;</div>
<div class="line"><span class="lineno">  165</span>        resp-&gt;<a class="code hl_variable" href="union_libsd_spi_command_response.html#a2dc9b1f839595a38b6d79bbae8fd65db">resp_r2</a>.<a class="code hl_variable" href="struct_libsd_spi_command_response_r2.html#ab310b3e1150523205d5fb1d6892bc70a">resp</a> |= read_byte_lower;</div>
<div class="line"><span class="lineno">  166</span> </div>
<div class="line"><span class="lineno">  167</span>        <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="#a35e9ef4fba3790348b74b5f1bb30e295aa290c988d692cfa633e720113b73990f">LIBSD_OK</a>;</div>
<div class="line"><span class="lineno">  168</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  169</span>        <span class="comment">// we have a R1 response</span></div>
<div class="line"><span class="lineno">  170</span>        <span class="comment">// some of these can have an optional busy signal, which this checks for</span></div>
<div class="line"><span class="lineno">  171</span>        <span class="comment">// could probably be optimized, but this is a quick way to get this working</span></div>
<div class="line"><span class="lineno">  172</span>        resp-&gt;<a class="code hl_variable" href="union_libsd_spi_command_response.html#a7fbe9577c9bfbbb3d80990df2d213c2d">resp_r1</a>.<a class="code hl_variable" href="struct_libsd_spi_command_response_r1.html#abbf035f40ee8c3f20d6bd8c0e5c959c2">resp</a> = read_byte;</div>
<div class="line"><span class="lineno">  173</span>        <span class="keywordflow">do</span> {</div>
<div class="line"><span class="lineno">  174</span>            <a class="code hl_function" href="spi_8c.html#aefbf78ce76b86e4cba92dabcbf07ed2c">libsd_spi_read_write_byte</a>(card-&gt;<a class="code hl_variable" href="struct_libsd_card.html#aaddc55f0f0f4a8fed892f97bab788654">spi</a>, 0xFF, &amp;read_byte);</div>
<div class="line"><span class="lineno">  175</span>        } <span class="keywordflow">while</span>(read_byte == 0x00);</div>
<div class="line"><span class="lineno">  176</span> </div>
<div class="line"><span class="lineno">  177</span>        <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="#a35e9ef4fba3790348b74b5f1bb30e295aa290c988d692cfa633e720113b73990f">LIBSD_OK</a>;</div>
<div class="line"><span class="lineno">  178</span>    }</div>
<div class="line"><span class="lineno">  179</span>}</div>
<div class="ttc" id="astruct_libsd_spi_command_response_r3_html_a0d6e64ba43c84a00cd7870ce148267bc"><div class="ttname"><a href="struct_libsd_spi_command_response_r3.html#a0d6e64ba43c84a00cd7870ce148267bc">LibsdSpiCommandResponseR3::resp</a></div><div class="ttdeci">uint8_t resp</div><div class="ttdef"><b>Definition</b> libsd.h:210</div></div>
<div class="ttc" id="astruct_libsd_spi_command_response_r3_html_adbb43155674764664f4bae6da67a5fe9"><div class="ttname"><a href="struct_libsd_spi_command_response_r3.html#adbb43155674764664f4bae6da67a5fe9">LibsdSpiCommandResponseR3::extra</a></div><div class="ttdeci">uint32_t extra</div><div class="ttdef"><b>Definition</b> libsd.h:211</div></div>
<div class="ttc" id="astruct_libsd_spi_command_response_r7_html_ad18875ac3f248dc3dfb5e2add63a632f"><div class="ttname"><a href="struct_libsd_spi_command_response_r7.html#ad18875ac3f248dc3dfb5e2add63a632f">LibsdSpiCommandResponseR7::extra</a></div><div class="ttdeci">uint32_t extra</div><div class="ttdef"><b>Definition</b> libsd.h:219</div></div>
<div class="ttc" id="aunion_libsd_spi_command_response_html_a6aae5ced66e6a6b3214b945cc615a0d3"><div class="ttname"><a href="union_libsd_spi_command_response.html#a6aae5ced66e6a6b3214b945cc615a0d3">LibsdSpiCommandResponse::resp_r3</a></div><div class="ttdeci">LibsdSpiCommandResponseR3 resp_r3</div><div class="ttdef"><b>Definition</b> libsd.h:228</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a57d87947ed864f3fa837daf44fc2b9ac" name="a57d87947ed864f3fa837daf44fc2b9ac"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a57d87947ed864f3fa837daf44fc2b9ac">&#9670;&#160;</a></span>libsd_card_write_block()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="#a35e9ef4fba3790348b74b5f1bb30e295">LibsdReturnStatus</a> libsd_card_write_block </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_libsd_card.html">LibsdCard</a> *</td>          <td class="paramname"><span class="paramname"><em>card</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t</td>          <td class="paramname"><span class="paramname"><em>addr</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t *</td>          <td class="paramname"><span class="paramname"><em>write_buf</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t</td>          <td class="paramname"><span class="paramname"><em>len</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Write a block (usually 512 bytes) to the SD card at the given block address. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">card</td><td>Struct for the SD card to write to </td></tr>
    <tr><td class="paramname">addr</td><td>Address to write the block to (block address) </td></tr>
    <tr><td class="paramname">write_buf</td><td>Buffer containing data to be written </td></tr>
    <tr><td class="paramname">len</td><td>Length of the buffer in bytes</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>LIBSD_OK if the command was sent and a response was received, LIBSD_TIMEOUT if no response within 8 bytes on SPI </dd></dl>
<div class="fragment"><div class="line"><span class="lineno">  242</span>                                                                                                           {</div>
<div class="line"><span class="lineno">  243</span>    <span class="keywordflow">if</span>(len &lt; card-&gt;block_size) {</div>
<div class="line"><span class="lineno">  244</span>        <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="#a35e9ef4fba3790348b74b5f1bb30e295a0aadb7478c96bd88f0587cf94f96ede8">LIBSD_BUF_TOO_SMALL</a>;</div>
<div class="line"><span class="lineno">  245</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>(len &gt; card-&gt;<a class="code hl_variable" href="struct_libsd_card.html#abeab263538de0bda9f7b09161c9eecdc">block_size</a>) {</div>
<div class="line"><span class="lineno">  246</span>        <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="#a35e9ef4fba3790348b74b5f1bb30e295a0f82db21f4263d8d617d0f0fc3ea9bd0">LIBSD_BUF_TOO_LARGE</a>;</div>
<div class="line"><span class="lineno">  247</span>    }</div>
<div class="line"><span class="lineno">  248</span> </div>
<div class="line"><span class="lineno">  249</span>    <a class="code hl_union" href="union_libsd_spi_command_response.html">LibsdSpiCommandResponse</a> resp;</div>
<div class="line"><span class="lineno">  250</span>    <a class="code hl_struct" href="struct_libsd_spi_defined_command.html">LibsdSpiDefinedCommand</a> cmd;</div>
<div class="line"><span class="lineno">  251</span>    cmd.<a class="code hl_variable" href="struct_libsd_spi_defined_command.html#afcc3013cf1654bce15b5bc0beb4f7129">arg</a> = addr;</div>
<div class="line"><span class="lineno">  252</span>    cmd.<a class="code hl_variable" href="struct_libsd_spi_defined_command.html#ad1b9abc95a1720e7595220cc366e8ab4">id</a> = <a class="code hl_enumvalue" href="#af93c4737aafa5967c62525b2db861bd5a577bfdd5ef3f3d9b50bdecbd7cf04b9e">WRITE_BLOCK</a>;</div>
<div class="line"><span class="lineno">  253</span>    <a class="code hl_enumeration" href="#a35e9ef4fba3790348b74b5f1bb30e295">LibsdReturnStatus</a> status = <a class="code hl_function" href="libsd_8c.html#ab0298722c83047fc1c9b40c1d5845c00">libsd_card_send_defined_command</a>(card, &amp;cmd, &amp;resp);</div>
<div class="line"><span class="lineno">  254</span> </div>
<div class="line"><span class="lineno">  255</span>    <span class="keywordflow">if</span>(status != <a class="code hl_enumvalue" href="#a35e9ef4fba3790348b74b5f1bb30e295aa290c988d692cfa633e720113b73990f">LIBSD_OK</a> <span class="comment">/* || resp.resp_r1.resp != 0x01*/</span>) { <span class="comment">// TODO check about the response from a write command</span></div>
<div class="line"><span class="lineno">  256</span>        <span class="keywordflow">return</span> status;</div>
<div class="line"><span class="lineno">  257</span>    }</div>
<div class="line"><span class="lineno">  258</span> </div>
<div class="line"><span class="lineno">  259</span>    <span class="comment">// write start of block symbol</span></div>
<div class="line"><span class="lineno">  260</span>    <a class="code hl_function" href="spi_8c.html#abaaf34c5db811c379c8dfd332d58378c">libsd_spi_write_byte</a>(card-&gt;<a class="code hl_variable" href="struct_libsd_card.html#aaddc55f0f0f4a8fed892f97bab788654">spi</a>, <a class="code hl_variable" href="libsd_8c.html#afe126337fd5a9407c4216459506fb0bf">LIBSD_START_BLOCK_SINGLE</a>);</div>
<div class="line"><span class="lineno">  261</span> </div>
<div class="line"><span class="lineno">  262</span>    <span class="comment">// write the actual data</span></div>
<div class="line"><span class="lineno">  263</span>    <a class="code hl_function" href="spi_8c.html#ab42a8aeb96c6630d784434ead75302b4">libsd_spi_write_buf</a>(card-&gt;<a class="code hl_variable" href="struct_libsd_card.html#aaddc55f0f0f4a8fed892f97bab788654">spi</a>, write_buf, len);</div>
<div class="line"><span class="lineno">  264</span> </div>
<div class="line"><span class="lineno">  265</span>    <span class="comment">// calculate CRC and send</span></div>
<div class="line"><span class="lineno">  266</span>    <span class="comment">// uint16_t crc = libsd_crc16_calculate_byte(0, LIBSD_START_BLOCK_SINGLE);</span></div>
<div class="line"><span class="lineno">  267</span>    uint16_t crc = <a class="code hl_function" href="crc16_8c.html#ac4532ed85743133f4b4ad80869c68458">libsd_crc16_calculate</a>(0, write_buf, len);</div>
<div class="line"><span class="lineno">  268</span> </div>
<div class="line"><span class="lineno">  269</span>    <a class="code hl_function" href="spi_8c.html#abaaf34c5db811c379c8dfd332d58378c">libsd_spi_write_byte</a>(card-&gt;<a class="code hl_variable" href="struct_libsd_card.html#aaddc55f0f0f4a8fed892f97bab788654">spi</a>, crc &gt;&gt; 8);</div>
<div class="line"><span class="lineno">  270</span>    <a class="code hl_function" href="spi_8c.html#abaaf34c5db811c379c8dfd332d58378c">libsd_spi_write_byte</a>(card-&gt;<a class="code hl_variable" href="struct_libsd_card.html#aaddc55f0f0f4a8fed892f97bab788654">spi</a>, crc &amp; 0xFF);</div>
<div class="line"><span class="lineno">  271</span> </div>
<div class="line"><span class="lineno">  272</span>    uint8_t read_byte = 0xFF;</div>
<div class="line"><span class="lineno">  273</span>    <span class="comment">// it can take anywhere from 0 to 8 clock cycles for a response according to the specification</span></div>
<div class="line"><span class="lineno">  274</span>    <span class="keywordflow">for</span>(<span class="keywordtype">int</span> i = 0; i &lt;= 8; i++) {</div>
<div class="line"><span class="lineno">  275</span>        <a class="code hl_function" href="spi_8c.html#aefbf78ce76b86e4cba92dabcbf07ed2c">libsd_spi_read_write_byte</a>(card-&gt;<a class="code hl_variable" href="struct_libsd_card.html#aaddc55f0f0f4a8fed892f97bab788654">spi</a>, 0xFF, &amp;read_byte);</div>
<div class="line"><span class="lineno">  276</span>        <span class="comment">// the SD card will hold the line high for busy, and the MSB of any response is 0, so check for that</span></div>
<div class="line"><span class="lineno">  277</span>        <span class="keywordflow">if</span>((read_byte &amp; 0x01) &amp;&amp; (~read_byte &amp; 0x10)) {</div>
<div class="line"><span class="lineno">  278</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  279</span>        }</div>
<div class="line"><span class="lineno">  280</span>    }</div>
<div class="line"><span class="lineno">  281</span> </div>
<div class="line"><span class="lineno">  282</span>    <span class="comment">// wait for the write to be processed by the card</span></div>
<div class="line"><span class="lineno">  283</span>    uint8_t busy = 0x00;</div>
<div class="line"><span class="lineno">  284</span>    <span class="keywordflow">while</span>(busy == 0) {</div>
<div class="line"><span class="lineno">  285</span>        <a class="code hl_function" href="spi_8c.html#aefbf78ce76b86e4cba92dabcbf07ed2c">libsd_spi_read_write_byte</a>(card-&gt;<a class="code hl_variable" href="struct_libsd_card.html#aaddc55f0f0f4a8fed892f97bab788654">spi</a>, 0xFF, &amp;busy);</div>
<div class="line"><span class="lineno">  286</span>    }</div>
<div class="line"><span class="lineno">  287</span> </div>
<div class="line"><span class="lineno">  288</span>    <span class="comment">// TODO - maybe make some constants for these???</span></div>
<div class="line"><span class="lineno">  289</span>    uint8_t write_status = (read_byte &gt;&gt; 1) &amp; 0x07;</div>
<div class="line"><span class="lineno">  290</span>    <span class="keywordflow">switch</span>(write_status) {</div>
<div class="line"><span class="lineno">  291</span>        <span class="keywordflow">case</span> 0x02:</div>
<div class="line"><span class="lineno">  292</span>            <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="#a35e9ef4fba3790348b74b5f1bb30e295aa290c988d692cfa633e720113b73990f">LIBSD_OK</a>;</div>
<div class="line"><span class="lineno">  293</span> </div>
<div class="line"><span class="lineno">  294</span>        <span class="keywordflow">case</span> 0x05:</div>
<div class="line"><span class="lineno">  295</span>            <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="#a35e9ef4fba3790348b74b5f1bb30e295afd4e1e73c876c7288df868906b8a0877">LIBSD_CRC_ERROR</a>;</div>
<div class="line"><span class="lineno">  296</span> </div>
<div class="line"><span class="lineno">  297</span>        <span class="keywordflow">case</span> 0x06:</div>
<div class="line"><span class="lineno">  298</span>            <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="#a35e9ef4fba3790348b74b5f1bb30e295a0912ae679e57403dfc8b7b25d9af2aef">LIBSD_WRITE_FAILED</a>;</div>
<div class="line"><span class="lineno">  299</span> </div>
<div class="line"><span class="lineno">  300</span>        <span class="keywordflow">default</span>:</div>
<div class="line"><span class="lineno">  301</span>            <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="#a35e9ef4fba3790348b74b5f1bb30e295a0912ae679e57403dfc8b7b25d9af2aef">LIBSD_WRITE_FAILED</a>;</div>
<div class="line"><span class="lineno">  302</span>    }</div>
<div class="line"><span class="lineno">  303</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a name="doc-var-members" id="doc-var-members"></a><h2 id="header-doc-var-members" class="groupheader">Variable Documentation</h2>
<a id="a6cbbba235c8f9237b7885c3271e401a2" name="a6cbbba235c8f9237b7885c3271e401a2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6cbbba235c8f9237b7885c3271e401a2">&#9670;&#160;</a></span>LIBSD_START_BLOCK_MULTIPLE</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const uint8_t LIBSD_START_BLOCK_MULTIPLE</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel extern">extern</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Constant that marks start of block for multi-block writes. </p>

</div>
</div>
<a id="afe126337fd5a9407c4216459506fb0bf" name="afe126337fd5a9407c4216459506fb0bf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afe126337fd5a9407c4216459506fb0bf">&#9670;&#160;</a></span>LIBSD_START_BLOCK_SINGLE</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const uint8_t LIBSD_START_BLOCK_SINGLE</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel extern">extern</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Constant that marks start of block for single writes and both reads. </p>

</div>
</div>
<a id="ae9d6bd3965ee02b29be0566ca5a40433" name="ae9d6bd3965ee02b29be0566ca5a40433"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae9d6bd3965ee02b29be0566ca5a40433">&#9670;&#160;</a></span>LIBSD_STOP_BLOCK_MULTIPLE</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const uint8_t LIBSD_STOP_BLOCK_MULTIPLE</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel extern">extern</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Constant that marks end of multi-block write. </p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<div id="page-nav" class="page-nav-panel">
<div id="page-nav-resize-handle"></div>
<div id="page-nav-tree">
<div id="page-nav-contents">
</div><!-- page-nav-contents -->
</div><!-- page-nav-tree -->
</div><!-- page-nav -->
</div><!-- container -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a href="dir_d44c64559bbebec7f509842c48db8b23.html">include</a></li><li class="navelem"><a href="dir_e07fc44dd0f6880bc101e440f3f618cc.html">libsd</a></li><li class="navelem"><a href="libsd_8h.html">libsd.h</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.14.0 </li>
  </ul>
</div>
</body>
</html>
